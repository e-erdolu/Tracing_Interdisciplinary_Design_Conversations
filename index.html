<!DOCTYPE html>
<!--meta charset="utf-8"-->
<html lang="en">

  <head>
    <title>Tracing Interdisciplinary Conversations</title>
    <!-- meta name="description" content="A cool CAD recreation made with Glitch"-->
    <link id="favicon" rel="icon" href="https://static1.squarespace.com/static/54c2a5c7e4b043776a0b0036/t/54da19a6e4b0b3595f773849/favicon.ico" type="image/x-icon">
    <!-- meta charset="utf-8"-->
    <!-- meta http-equiv="X-UA-Compatible" content="IE=edge"-->
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script-->
    <!-- script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script-->
    <!-- script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script-->
    
    <!-- import the webpage's stylesheet -->
    <!-- link rel="stylesheet" href="/index.css"-->
    
    <style>p.ex2 {margin-left: 50px; margin-bottom: 30px}</style>
    <style>p.ex4 {margin-left: 50px; margin-top: 30px; font-size: 20px; font-weight: bold}</style>
    <style>p.ex7 {margin-left: 50px; margin-bottom: 20px}</style>
    <style>p.ex8 {margin-left: 50px; font-weight: bold; font-size: 14px;}</style>
    <style>p.ex9 {margin-left: 50px; margin-right: 50px; margin-bottom: 10px; font-size: 14px; font-style: italic}</style>
    <style>p.ex11 {margin-left: 50px; font-size: 20px; font-weight: bold}</style>
    <style>p.ex12 {margin-left: 50px; margin-right: 50px; margin-bottom: 25px; font-size: 14px; font-style: italic}</style>
    <style>p.ex13 {margin-left: 50px; margin-top: 30px; font-size: 14px;}</style>
    <style>p.ex14 {margin-left: 50px; margin-top: 30px; margin-bottom: 20px;}</style>
    <style>p.ex15 {margin-left: 50px; margin-bottom: 50px; font-size: 28px; font-weight: bold;}</style>
    <style>p.ex18 {margin-left: 50px; margin-top: 10px; margin-bottom: 20px;}</style>
    <style>p.ex19 {margin-left: 50px; margin-top: 70px; margin-bottom: 120px;}</style>
  </head>

  <body>
    <div class="container"> 
      <p style = "margin-top: 100px">
      <header>
        <svg height="40" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <h1><p class="ex15">Tracing Interdisciplinary Design Conversations: <br>An Analysis of 
          Architect-Tech Designer Conversations by Text Visualization </h1>
      </header>
      </p>

      <main>
        <p><p class="ex7">With the increasing convergence of computational and architectural practices, a 
          common interdisciplinary encounter of today is between architects and tech designers. Tech 
          companies, startups, designers, and entrepreneurs are increasingly interested in homes, offices, 
          infrastructures, and cities as sites of deployment; and architecture offices, architects, and 
          architectural researchers engage with software, sensors, robots, and other devices as their 
          instruments. The mutual interest in each other's work and artifacts start to bring these two 
          figures more often in conversations, debates, or collaborations within labs or projects. 
          Because of different knowledge backgrounds and discourses, these conversations can at times 
          involve low levels of engagement as well as exchanges and gaps. Producing insights on engagement, 
          exchanges, and gaps between the disciplinary discourses of architects and tech designers is a 
          crucial first step towards understanding the qualities of interaction between the two groups. 
          This paper reports on a case study of two interdisciplinary conversations, each between two 
          architects and a tech designer. In analyzing the first conversation, we investigated the 
          engagement, exchanges, and gaps between these actorsâ€™ disciplinary discourses by text processing 
          and visualization. By analyzing the second conversation, we conducted a comparative analysis of 
          insights. By using text processing and visualization, we also explored the potential of these 
          methods in understanding the conversational dynamics investigated. The case study and visualizations 
          revealed that, even though the architects and the tech designer engage through a sharing and 
          exchange across their discourses, there are issues in the qualities of that sharing and exchange. 
          The paper finally outlines these issues.</p>
        
        <p class="ex8">
          <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">See the full article</a>
        </p>
        
        <style>
          #myDIV_5{ 
            border: 2px solid black;
            padding: 30px; 
            margin-left: 50px;
            margin-top: 50px; 
            margin-bottom: 60px; 
            text-align: left;
            }
        </style>

        <div id="myDIV_5">
          <p><p class="ex11">Glossary</p>

          <p><p class="ex8">Content words:</p>
          <p><p class="ex9">Content words are the words in a sentence that contain semantic information 
            and cumulatively form the contentful part of a discourse, such as nouns, verbs, or adjectives. 
            In this project, we use content words to evaluate contentful contribution to a discourse.</p>
          
          <p><p class="ex8">Disciplinary words:</p>
          <p><p class="ex9">Words that belong to or stem from a certain disciplinary or professional 
            terminology. Disciplinary words can also be present in daily language. For instance, &quotramp&quot 
            when it is used by architects is an architectural word, as opposed to what it means in 
            another daily conversation.</p>
          
          <p><p class="ex8">Function words:</p>
          <p><p class="ex9">Function words are the words in a sentence that maintain the syntactic structure 
            but do not contain semantic information, such as prepositions, pronouns or conjunctions. Function 
            words are considered as &quotlanguage style markers&quot, and similarities and differences in rates 
            of function word use is a way of analyzing language interaction (Ireland and Pennebaker, 2010; 
            Gonzales et.al., 2010).</p>
          
          <p><p class="ex8">Inter / dual-disciplinary words:</p>
          <p><p class="ex12">Interdisciplinary words are the words that are present in multiple disciplinary or 
            professional terminology. An example is &quotdesign&quot that exists both in architecture and 
            engineering. In this project, we take the interdisciplinary words together with, what we named as 
            &quotdual-disciplinary&quot words. Dual-disciplinary words are the words that may or may not be 
            disciplinary, but have different meanings or connotations in different disciplinary domains. An example 
            would be &quotprogram&quot which means programming a computer by coding&quot in computer science 
            versus &quotbuilding programming by organizing the floor areas and layouts for different uses&quot 
            in architecture.</p>
        </div>
        
        <svg height="10" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Conversation 1</p>
        <p><p class="ex7">The first conversation we chose is titled &quotArchitecture and Technology&quot 
          which took place in Venice Biennale in 2014. This was a conversation between German architect and 
          journalist Niklas Maak, renowned Dutch architect and founder of the Office for Metropolitan 
          Architecture (OMA) Rem Koolhaas, and American computer engineer, tech designer and entrepreneur Tony 
          Fadell, who was one of the designers of Apple iPod and iPhone, and founder of Nest Labs, that developed 
          smart thermostats at that time. Triggered by the programmable and self-learning thermostat designed by 
          Tony Fadell and his company Nest, the conversation was an exchange of perspectives on the 
          digitalization of architectural elements.</p>
        
        <p style="margin-left: 50px; margin-top: 50px; margin-bottom: 50px">
          <iframe width="640" height="360" src="https://www.youtube.com/embed/dxqFqbAp2Fo"></iframe>
        </p>

        <p><p class="ex4">Conversation 2</p>
        <p><p class="ex7">The second conversation we chose is titled &quotDesign in the Digital Age&quot 
          which took place in Vanity Fair&#39s New Establishment Summit 2014 in San Francisco. This was a 
          follow-up conversation between Rem Koolhaas and Tony Fadell, accompanied by American architectural 
          historian and journalist Paul Goldberger. The conversation was the continuation of the exchange of 
          perspectives on the digitalization of architectural elements. In our study, the second conversation 
          was only analyzed in terms of the last dimension, word sharing and exchange, and compared to the 
          first conversation.</p>
          
        <p style="margin-left: 50px; margin-top: 50px; margin-bottom: 50px">
          <iframe width="640" height="360" src="https://www.youtube.com/embed/YiSl0gVfLrw"></iframe>
        </p>
        

        <!-------------------------------------------------------------------------------------->
        <!--- Part 1 ------------------------------->
        <!--------------------------------------------------------------------------------------> 
        
        <svg height="10" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Role, weight, and contribution in conversation 1</p>
        <p><p class="ex8">See section 4.1 in <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">the article</a> for a detailed discussion</p>

        <p><p class="ex13">Actor-time heatmap: (1) Mouseover on white space, (2) scroll to zoom in / out, 
          (3) drag white space to move in the timeline, (4) mouseover on bars to see the information<br>Number 
          of words-time bar graph: (1) Mouseover on white space, (2) scroll to zoom in / out, (3) drag to move 
          in the timeline, (4) mouseover on bars to see the information</p>
        

        <!-- Load d3.js -->
        <script src="https://d3js.org/d3.v4.js"></script>


        <!---Visualization 1: Heatmap----------------------------------------->
        <!---Built based on D3.js heatmap------------------------------------->

        <div id="my_dataviz"></div>

        <script>

          // set the dimensions and margins of the graph
          var margin_1 = {top: 30, right: 30, bottom: 50, left: 125},
            width_1 = 1150 - margin_1.left - margin_1.right,
            //width_1 = 2500 - margin_1.left - margin_1.right,
            //height_1 = 150 - margin_1.top - margin_1.bottom;
            height_1 = 200 - margin_1.top - margin_1.bottom;

          // append the svg object to the body of the page
          var svg1 = d3.select("#my_dataviz")
            .append("svg")
            .attr("width", width_1 + margin_1.left + margin_1.right)
            //.attr("width", 1100)
            .attr("height", height_1 + margin_1.top + margin_1.bottom)
            .append("g")
            .attr("transform",
              "translate(" + margin_1.left + "," + margin_1.top + ")");

          d3.json("sample11_2.json", function (data) {
            //console.log("ERROR");
            //if (error) throw error;

            var dimTime_1 = d3.map(data, function (d) { return d.Time; }).keys()
            var dimActor_1 = d3.map(data, function (d) { return d.Actor; }).keys()

            // Build X scales and axis:
            // var x = d3.scaleBand()
            //   .range([0, width_1])
            //   .domain(dimTime)
            //   .padding(0.05);
            // svg1.append("g")
            //   .attr("transform", "translate(0," + height_1 + ")")
            //   .call(d3.axisBottom(x))
            //   .selectAll("text")
            //   .attr("transform", "translate(-10,0)rotate(-45)")
            //   .style("text-anchor", "end");

            var x_1 = d3.scaleLinear()
              .range([0, width_1]);
            var xScale_1 = x_1.domain([0, 123])
            var xBand_1 = d3.scaleBand().domain(d3.range(0, 123)).range([0, width_1]);
            var xAxis_1 = svg1.append("g")
              .attr("transform", "translate(0," + height_1 + ")")
              .call(d3.axisBottom(x_1)
                .tickFormat((d, e, target) => {
                  if (Math.floor(d) === d3.format(".1f")(d)) return dimTime_1[Math.floor(d)]
                  return dimTime_1[d]
                }));

            // Build Y scales and axis:
            var y_1 = d3.scaleBand()
              .range([height_1, 0])
              .domain(dimActor_1)
              .padding(0.05);
            svg1.append("g")
              .call(d3.axisLeft(y_1));

            // Build color scale
            var myColor = d3.scaleLinear()
              .range(["#c5f3de", "#429F8A"])
              .domain([1, 3])
            
            // Create a tooltip
            var tooltip = d3.select("#my_dataviz")
              .append("div")
              .style("opacity", 0)
              .attr("class", "tooltip")
              .style("background-color", "white")
              .style("border", "solid")
              .style("border-width", "2px")
              .style("border-radius", "5px")
              .style("padding", "5px")

            // Three function that change the tooltip when user hover / move / leave a cell
            var mouseover = function (d) {
              tooltip.style("opacity", 1)
            }
            var mousemove = function (d) {
              tooltip
                .html(d.Actor + " started to speak at " + d.Time)
                //.style("left", (d3.mouse(this)[0] + 180) + "px")
                //.style("top", (d3.mouse(this)[1] + 380) + "px")
            }
            var mouseleave = function (d) {
              tooltip.style("opacity", 0)
            }

            // Add a clipPath: everything out of this area won't be drawn.
            var clip_1 = svg1.append("defs").append("SVG:clipPath")
              .attr("id", "clip_1")
              .append("SVG:rect")
              .attr("width", width_1)
              .attr("height", height_1)
              .attr("x", 0)
              .attr("y", 0);

            var hideTicksWithoutLabel_1 = function () {
              d3.selectAll('.xAxis .tick text').each(function (d) {
                if (this.innerHTML === '') {
                  this.parentNode.style.display = 'none'
                }
              })
            }

            // Set the zoom and Pan features: how much you can zoom, on which part, and what to do when there is a zoom
            var zoom_1 = d3.zoom()
              .translateExtent([[0, 0], [width_1, height_1]]) // This control how much you can move
              //.translateExtent([[0, 0], [3500, height_3]])
              .scaleExtent([1, 3]) // This control how much you can unzoom and zoom
              //.scaleExtent([1, 1.2]) // This control how much you can unzoom and zoom
              .extent([[0, 0], [width_1, height_1]])
              .on("zoom", updateChart_1);

            // This add an invisible rect on top of the chart area. This rect can recover pointer events: necessary to understand when the user zoom
            // This has to be put behind the bars to trigger tooltips properly
            svg1.append("rect")
              .attr("width", width_1)
              .attr("height", height_1)
              .style("fill", "none")
              .style("pointer-events", "all")
              //.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')
              .call(zoom_1);

            // Create the bars variable: where both the circles and the brush take place
            var bars_1 = svg1.append('g')
              .attr("clip-path", "url(#clip_1)")

            // Add bars
            bars_1
              .append('g')
              .selectAll("rect")
              .data(data, function (d) { return d.Time + ':' + d.Actor; })
              .enter()
              .append("rect")
              .attr("x", function (d) { return x_1(d.order); })
              .attr("y", function (d) { return y_1(d.Actor); })
              .attr("width", xBand_1.bandwidth())
              .attr("height", y_1.bandwidth())
              .attr("fill", function (d) { return myColor(d.Value) })
              .style("opacity", .7)
              .on("mouseover", mouseover)
              .on("mousemove", mousemove)
              .on("mouseleave", mouseleave);

            // now the user can zoom and it will trigger the function called updateChart
            // A function that updates the chart when the user zoom and thus new boundaries are available
            function updateChart_1() {

              // recover the new scale
              var newX_1 = d3.event.transform.rescaleX(x_1);
              //var newY = d3.event.transform.rescaleY(y);

              // update axes with these new boundaries
              xAxis_1.call(d3.axisBottom(newX_1).tickFormat((d, e, target) => {
                if (Math.floor(d) === d3.format(".1f")(d)) return dimTime_1[Math.floor(d)]
                return dimTime_1[d]
              }))
              //yAxis.call(d3.axisLeft(newY))

              hideTicksWithoutLabel_1()

              // update bar position
              bars_1
                .selectAll("rect")
                //.attr('x', function (d) { return newX_1(d.order) })

                //.attr("transform", d3.event.transform)
                .attr("width", xBand_1.bandwidth())
                .attr("transform", "translate(" + d3.event.transform.x + ",0)scale(" + d3.event.transform.k + ",1)")
                .on("mouseover", mouseover)
                .on("mousemove", mousemove)
                .on("mouseleave", mouseleave)
            
            }

          })

        </script>

        <!---Visualization 2: Bar graph--------------------------------------->
        <!---Built based on D3.js bar graph----------------------------------->

        <div id="my_dataviz3"></div>
        
        <script>
          // set the dimensions and margins of the graph
          var margin_3 = {top: 20, right: 30, bottom: 50, left: 125},
            width_3 = 1150 - margin_3.left - margin_3.right,
            //width_3 = 2500 - margin_3.left - margin_3.right,
            //height_3 = 150 - margin_3.top - margin_3.bottom;
            height_3 = 420 - margin_3.top - margin_3.bottom;


          // append the SVG object to the body of the page
          var SVG_3 = d3.select("#my_dataviz3")
            .append("svg")
            .attr("width", width_3 + margin_3.left + margin_3.right)
            //.attr("width", 1100)
            .attr("height", height_3 + margin_3.top + margin_3.bottom)
            .append("g")
            .attr("transform",
              "translate(" + margin_3.left + "," + margin_3.top + ")");

          //Read the data
          d3.json("sample11_2.json", function (data) {

            var dimTime_3 = d3.map(data, function (d) { return d.Time; }).keys()

            // Add X axis
            var x_3 = d3.scaleLinear()
              .range([0, width_3]);
            var xScale_3 = x_3.domain([0, 123])
            var xBand_3 = d3.scaleBand().domain(d3.range(0, 123)).range([0, width_3]);
            var xAxis_3 = SVG_3.append("g")
              .attr("transform", "translate(0," + height_3 + ")")
              .call(d3.axisBottom(x_3)
                .tickFormat((d, e, target) => {
                  if (Math.floor(d) === d3.format(".1f")(d)) return dimTime_3[Math.floor(d)]
                  return dimTime_3[d]
                }));

            // Add Y axis
            var y_3 = d3.scaleLinear()
              .domain([0, 3500])
              .range([height_3, 0]);
            var yAxis_3 = SVG_3.append("g")
              .call(d3.axisLeft(y_3));

            var myColor_3 = d3.scaleLinear()
              .range(["#c5f3de", "#429F8A"])
              .domain([1, 3])

            var myColor_4 = d3.scaleLinear()
              .range(["5F8572"])
              .domain([1, 3])

            // Create a tooltip
            var tooltip_3 = d3.select("#my_dataviz3")
              .append("div")
              .style("opacity", 0)
              .style("position", "absolute")
              .attr("class", "tooltip")
              .style("background-color", "white")
              .style("border", "solid")
              .style("border-width", "2px")
              .style("border-radius", "5px")
              .style("padding", "5px")

            // Three function that change the tooltip when user hover / move / leave a cell
            var mouseover_3 = function (d) {
              tooltip_3.style("opacity", 1)
            }
            var mousemove_3 = function (d) {
              tooltip_3
                .html(d.Actor + " reached " + d.NumberOfWords + " total words after he spoke at " + d.Time)
                //.style("left", (d3.mouse(this)[0] + 70) + "px")
                //.style("top", (d3.mouse(this)[1] + 480) + "px")
              //console.log(d3.mouse(this))
            }
            var mousemove_32 = function (d) {
              tooltip_3
                .html(d.Actor + " reached " + d.NumberOfContentfulWords + " content words after he spoke at " + d.Time)
                //.style("left", (d3.mouse(this)[0] + 70) + "px")
                //.style("top", (d3.mouse(this)[1] + 480) + "px")
              //console.log(d3.mouse(this))
            }
            var mouseleave_3 = function (d) {
              tooltip_3.style("opacity", 0)
            }

            // Add a clipPath: everything out of this area won't be drawn.
            var clip_3 = SVG_3.append("defs").append("SVG:clipPath")
              .attr("id", "clip_3")
              .append("SVG:rect")
              .attr("width", width_3)
              .attr("height", height_3)
              .attr("x", 0)
              .attr("y", 0);

            var hideTicksWithoutLabel_3 = function () {
              d3.selectAll('.xAxis .tick text').each(function (d) {
                if (this.innerHTML === '') {
                  this.parentNode.style.display = 'none'
                }
              })
            }

            // Set the zoom and Pan features: how much you can zoom, on which part, and what to do when there is a zoom
            var zoom_3 = d3.zoom()
              .translateExtent([[0, 0], [width_3, height_3]]) // This control how much you can move
              //.translateExtent([[0, 0], [3500, height_3]])
              .scaleExtent([1, 3]) // This control how much you can unzoom and zoom
              //.scaleExtent([1, 1.2]) // This control how much you can unzoom and zoom
              .extent([[0, 0], [width_3, height_3]])
              .on("zoom", updateChart_3);


            // This add an invisible rect on top of the chart area. This rect can recover pointer events: necessary to understand when the user zoom
            // This has to be put behind the bars to trigger tooltips properly
            SVG_3.append("rect")
              .attr("width", width_3)
              .attr("height", height_3)
              .style("fill", "none")
              .style("pointer-events", "all")
              //.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')
              .call(zoom_3);


            // Create the bars variable: where both the circles and the brush take place
            var bars_31 = SVG_3.append('g')
              .attr("clip-path", "url(#clip_3)")

            // Add bars
            bars_31
              .selectAll("rect")
              .data(data)
              .enter()
              .append("rect")
              .attr("x", function (d) { return x_3(d.order); })
              .attr("y", function (d) { return y_3(d.NumberOfWords); })
              .attr("width", xBand_3.bandwidth())
              .attr("height", function (d) { return height_3 - y_3(d.NumberOfWords); })
              .attr("fill", function (d) { return myColor_3(d.Value) })
              .style("opacity", .5)
              .on("mouseover", mouseover_3)
              .on("mousemove", mousemove_3)
              .on("mouseleave", mouseleave_3)


            // Create the bars variable: where both the circles and the brush take place
            var bars_32 = SVG_3.append('g')
              .attr("clip-path", "url(#clip_3)")

            // Add bars
            bars_32
              .selectAll("rect")
              .data(data)
              .enter()
              .append("rect")
              .attr("x", function (d) { return x_3(d.order); })
              .attr("y", function (d) { return y_3(d.NumberOfContentfulWords); })
              .attr("width", xBand_3.bandwidth())
              .attr("height", function (d) { return height_3 - y_3(d.NumberOfContentfulWords); })
              .attr("fill", function (d) { return myColor_3(d.Value) })
              .style("opacity", 0.9)
              .on("mouseover", mouseover_3)
              .on("mousemove", mousemove_32)
              .on("mouseleave", mouseleave_3)


            // now the user can zoom and it will trigger the function called updateChart
            // A function that updates the chart when the user zoom and thus new boundaries are available
            function updateChart_3() {

              // recover the new scale
              var newX_3 = d3.event.transform.rescaleX(x_3);
              //var newY = d3.event.transform.rescaleY(y);

              // update axes with these new boundaries
              xAxis_3.call(d3.axisBottom(newX_3).tickFormat((d, e, target) => {
                if (Math.floor(d) === d3.format(".1f")(d)) return dimTime_3[Math.floor(d)]
                return dimTime_3[d]
              }))
              //yAxis.call(d3.axisLeft(newY))

              hideTicksWithoutLabel_3()

              // update bar position
              bars_31
                .selectAll("rect")
                //.attr('x', function (d) { return newX_3(d.order) })

                //.attr("transform", d3.event.transform)
                .attr("width", xBand_3.bandwidth())
                .attr("transform", "translate(" + d3.event.transform.x + ",0)scale(" + d3.event.transform.k + ",1)")
                .on("mouseover", mouseover_3)
                .on("mousemove", mousemove_3)
                .on("mouseleave", mouseleave_3)

              bars_32
                .selectAll("rect")
                //.attr('x', function (d) { return newX_3(d.order) })

                //.attr("transform", d3.event.transform)
                .attr("width", xBand_3.bandwidth())
                .attr("transform", "translate(" + d3.event.transform.x + ",0)scale(" + d3.event.transform.k + ",1)")
                .on("mouseover", mouseover_3)
                .on("mousemove", mousemove_32)
                .on("mouseleave", mouseleave_3)

            }
          })

        </script>

        <!---Visualization 3: Stack bars-------------------------------------->
        <!-------------------------------------------------------------------->

        <div>
        <button type="button" class="btn20" id="switch_10">See weight by actor</button>
        </div>
          
        <svg id="my_dataviz10" font-family = "Calibri" text-anchor="middle" width=1000 height=820 ></svg>
        
        <script>

          var svg_10 = d3.select("#my_dataviz10")
          
          const totContWords_M = 797    // 41 // 41.27% 797 words
          const totWords_M = 1931       //100 // 1931 words
          const totContWords_F = 1195   //37 // 36.90% 1195 words
          const totWords_F = 3238       //100 // 3238 words
          const totContWords_K = 982    //38 // 38.01% 982 words
          const totWords_K = 2583       //100 // 2583 words
          const totContWords_O = 2974   //38 // 38.36% 2974 words
          const totWords_O = 7752       //100 // 7752 words
          
          const rectMargin_10 = 200
          const factor_10 = 0.05
          const valX_10 = 300
          
          const valY_10 = 10
          const valYY_10 = valY_10 + 280
          const M_valY_2_10 = valY_10 + (totWords_M - totContWords_M)  * factor_10 
          const F_valY_2_10 = valY_10 + (totWords_F - totContWords_F)  * factor_10
          const K_valY_2_10 = valY_10 + (totWords_K - totContWords_K)  * factor_10
          
          const rectWidth_10 = 110
          const M_height1_10 = (totWords_M - totContWords_M) * factor_10
          const M_height2_10 = totContWords_M * factor_10
          const M_totalheight_10 = M_height1_10 + M_height2_10  
          const F_height1_10 = (totWords_F - totContWords_F) * factor_10
          const F_height2_10 = totContWords_F * factor_10
          const F_totalheight_10 = F_height1_10 + F_height2_10 
          const K_height1_10 = (totWords_K - totContWords_K) * factor_10
          const K_height2_10 = totContWords_K * factor_10
          const K_totalheight_10 = K_height1_10 + K_height2_10 

          const O_height1_10 = (totWords_O - totContWords_O) * factor_10
          const O_height2_10 = totContWords_O * factor_10
          const O_totalheight_10 = O_height1_10 + O_height2_10 

          const font_size_10 = 14 
          const percText_factor = 0.006
          const textMargin_10 = 50
          const sideTextMargin_10 = 60
          const sideTextMargin2_10 = 30
          
          //var M_color_10 = "#c5f3de"
          //var M_color_10 = "#bfe7d4"
          var M_color_10 = "#c5f3de"
          var F_color_10 = "#9bd1c1"
          //var K_color_10 = "#69b3a2" 
          var K_color_10 = "#429F8A" 
          
          var initLinks_10 = true;

          d3.select("#switch_10").on("click", function() {
            initLinks_10 = !initLinks_10;
            drawStack_10();
            console.log("EXEC");
          });

          // Actor 1 (M)
          svg_10.append("rect")
            .attr("x", valX_10)
            //.attr("y", valY_10)
            .attr("y", valY_10 + F_totalheight_10 - M_totalheight_10) 
            .attr("width", rectWidth_10)
            .attr("height", M_height1_10)
            .style("fill", "#e2f9ef");
          
          svg_10.append("rect")
            .attr("x", valX_10)
            //.attr("y", M_valY_2_10)
            .attr("y", M_valY_2_10 + F_totalheight_10 - M_totalheight_10)
            .attr("width", rectWidth_10)
            .attr("height", M_height2_10)
            //.style("fill", "#c8f3df");
            //.style("fill", "#bfe7d4");
            .style("fill", "#c5f3de");
          
          svg_10.append("text")
            .attr("x", valX_10 + rectWidth_10 / 2)
            .attr("y", M_valY_2_10 + F_totalheight_10 - M_totalheight_10 
                      + 3 * M_height2_10 / 5)
            .text("41%")
            .attr("font-size", totWords_M * percText_factor) 
            .attr("fill", "white");
          
          svg_10.append("text")
            .attr("x", valX_10 + rectWidth_10 / 2)
            .attr("y", M_valY_2_10 + F_totalheight_10 - M_totalheight_10 
                      + M_height2_10 + textMargin_10)
            .text("Maak")
            .attr("font-size", font_size_10);
          
          svg_10.append("text")
            .attr("x", valX_10 + rectWidth_10 / 2)
            .attr("y", M_valY_2_10 + F_totalheight_10 - M_totalheight_10
                      + M_height2_10 + textMargin_10 + 20)
            .text("Content Words / Total")
            .attr("font-size", font_size_10);
          
          // Actor 2 (F)  
          svg_10.append("rect")
            .attr("x", valX_10 + rectMargin_10)
            .attr("y", valY_10)
            .attr("width", rectWidth_10)
            .attr("height", F_height1_10)
            .style("fill", "#c2e4da");
          
          svg_10.append("rect")
            .attr("x", valX_10 + rectMargin_10)
            .attr("y", F_valY_2_10)
            .attr("width", rectWidth_10)
            .attr("height", F_height2_10)
            .style("fill", "#8bccb8");
          
          svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", F_valY_2_10 + 3 * F_height2_10 / 5)
            .text("37%")
            .attr("font-size", totWords_F * percText_factor) 
            .attr("fill", "white");
          
          svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", F_valY_2_10 
                      + F_height2_10 + textMargin_10)
            .text("Fadell")
            .attr("font-size", font_size_10);
          
          svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", F_valY_2_10 
                      + F_height2_10 + textMargin_10 + 20)
            .text("Content Words / Total")
            .attr("font-size", font_size_10);
          
          // Actor 3 (K)  
          svg_10.append("rect")
            .attr("x", valX_10 + 2 * rectMargin_10)
            .attr("y", valY_10 + F_totalheight_10 - K_totalheight_10)
            .attr("width", rectWidth_10)
            .attr("height", K_height1_10)
            .style("fill", "#a1cfc5");
          
          svg_10.append("rect")
            .attr("x", valX_10 + 2 * rectMargin_10)
            .attr("y", K_valY_2_10 + F_totalheight_10 - K_totalheight_10)
            .attr("width", rectWidth_10)
            .attr("height", K_height2_10)
            .style("fill", "#429F8A");
          
          svg_10.append("text")
            .attr("x", valX_10 + 2 * rectMargin_10 + rectWidth_10 / 2)
            .attr("y", K_valY_2_10 + F_totalheight_10 - K_totalheight_10 
                      + 3 * K_height2_10 / 5)
            .text("38%")
            .attr("font-size", totWords_K * percText_factor) 
            .attr("fill", "white");
          
          svg_10.append("text")
            .attr("x", valX_10 + 2 * rectMargin_10 + rectWidth_10 / 2)
            .attr("y", K_valY_2_10 + F_totalheight_10 - K_totalheight_10 
                      + K_height2_10 + textMargin_10)
            .text("Koolhaas")
            .attr("font-size", font_size_10);
          
          svg_10.append("text")
            .attr("x", valX_10 + 2 * rectMargin_10 + rectWidth_10 / 2)
            .attr("y", K_valY_2_10 + F_totalheight_10 - K_totalheight_10
                      + K_height2_10 + textMargin_10 + 20)
            .text("Content Words / Total")
            .attr("font-size", font_size_10);
          
          // Overall
          svg_10.append("rect")
            .attr("x", valX_10 + rectMargin_10)
            .attr("y", valYY_10)
            .attr("width", rectWidth_10)
            .attr("height", O_height1_10)
            .style("fill", "#C0BEBE");
          
          svg_10.append("rect")
            .attr("x", valX_10 + rectMargin_10)
            .attr("y", valYY_10 + O_height1_10)
            .attr("width", rectWidth_10)
            .attr("height", O_height2_10)
            .style("fill", "#525252");
          
          svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", valYY_10 + O_height1_10 + 3 * O_height2_10 / 5)
            .text("38%")
            .attr("font-size", totWords_O * percText_factor) 
            .attr("fill", "white");
          
            svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", valYY_10 + O_height1_10 + O_height2_10 + textMargin_10)
            .text("Overall")
            .attr("font-size", font_size_10);
          
          svg_10.append("text")
            .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
            .attr("y", valYY_10 + O_height1_10 + O_height2_10 + textMargin_10 + 20)
            .text("Content Words / Total")
            .attr("font-size", font_size_10);
          

          function drawStack_10() {

            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10)
              .attr("width", rectWidth_10)
              .attr("height", M_height1_10)
              .style("fill", initLinks_10 ? "#C0BEBE" : M_color_10)
              //.style("stroke", initLinks_10 ? "None" : M_color_10);
            
            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10 + M_height1_10)
              .attr("width", rectWidth_10)
              .attr("height", F_height1_10)
              .style("fill", initLinks_10 ? "#C0BEBE" : F_color_10)
              .style("stroke", initLinks_10 ? "None" : F_color_10);
            
            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10 + M_height1_10 + F_height1_10)
              .attr("width", rectWidth_10)
              .attr("height", K_height1_10)
              .style("fill", initLinks_10 ? "#C0BEBE" : K_color_10)
              .style("stroke", initLinks_10 ? "None" : K_color_10);


            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10 + O_height1_10)
              .attr("width", rectWidth_10)
              .attr("height", M_height2_10) 
              .style("fill", initLinks_10 ? "#525252" : M_color_10)
              .style("stroke", initLinks_10 ? "None" : M_color_10);
            
            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10)
              .attr("width", rectWidth_10)
              .attr("height", F_height2_10) 
              .style("fill", initLinks_10 ? "#525252" : F_color_10)
              .style("stroke", initLinks_10 ? "None" : F_color_10);
            
            svg_10.append("rect")
              .attr("x", valX_10 + rectMargin_10)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10 + F_height2_10)
              .attr("width", rectWidth_10)
              .attr("height", K_height2_10) 
              .style("fill", initLinks_10 ? "#525252" : K_color_10)
              .style("stroke", initLinks_10 ? "None" : K_color_10);
            

            svg_10.append("line")
              .attr("x1", valX_10 + rectMargin_10) // - rectWidth_10 / 2)
              .attr("y1", valYY_10 + O_height1_10)
              .attr("x2", valX_10 + rectMargin_10 + rectWidth_10)
              .attr("y2", valYY_10 + O_height1_10)
              .style("stroke", initLinks_10 ? "None" : "#000000")
              .style("stroke-width", 5);
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + O_height1_10 + 3 * O_height2_10 / 5)
              .text("38%")
              .attr("font-size", totWords_O * percText_factor) 
              .attr("fill", initLinks_10 ? "White" : "None");
            

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 - sideTextMargin_10)
              .attr("y", valYY_10 + O_height1_10 / 2)
              .text("Function Words")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 - sideTextMargin_10)
              .attr("y", valYY_10 + O_height1_10 + O_height2_10 / 2)
              .text("Content Words")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");
            
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10)
              .attr("y", valYY_10 + 3 * M_height1_10 / 5)
              .text("Maak")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10)
              .attr("y", valYY_10 + M_height1_10 + 3 * F_height1_10 / 5)
              .text("Fadell")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10 + 8)
              .attr("y", valYY_10 + M_height1_10 + F_height1_10 + 3 * K_height1_10 / 5)
              .text("Koolhaas")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");


            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10)
              .attr("y", valYY_10 + O_height1_10 + 2 * M_height2_10 / 3)
              .text("Maak")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10 + 2 * F_height2_10 / 3)
              .text("Fadell")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 + sideTextMargin2_10 + 8)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10 + F_height2_10 
                        + 2 * K_height2_10 / 3)
              .text("Koolhaas")
              .attr("font-size", font_size_10) 
              .attr("fill", initLinks_10 ? "White" : "#000000");
            

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + 3 * M_height1_10 / 5)
              .text("24%")
              .attr("font-size", (totWords_O - totContWords_O) * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + M_height1_10 + 3 * F_height1_10 / 5)
              .text("43%")
              .attr("font-size", (totWords_O - totContWords_O) * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");
            
            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + M_height1_10 + F_height1_10 + 2 * K_height1_10 / 3)
              .text("33%")
              .attr("font-size", (totWords_O - totContWords_O) * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");


            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + O_height1_10 + 2 * M_height2_10 / 3)
              .text("27%")
              .attr("font-size", totContWords_O * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10 + 2 * F_height2_10 / 3)
              .text("40%")
              .attr("font-size", totContWords_O * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");

            svg_10.append("text")
              .attr("x", valX_10 + rectMargin_10 + rectWidth_10 / 2)
              .attr("y", valYY_10 + O_height1_10 + M_height2_10 + F_height2_10 
                        + 2 * K_height2_10 / 3)
              .text("33%")
              .attr("font-size", totContWords_O * percText_factor)
              .attr("fill", initLinks_10 ? "None" : "White");
              
          }
          
        </script>




        <!-------------------------------------------------------------------------------------->
        <!--- Part 2 ------------------------------->
        <!--------------------------------------------------------------------------------------> 
        
        <svg height="10" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Engagement by language style matching in conversation 1</p>
        <p><p class="ex8">See section 4.2 in <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">the article</a> for a detailed discussion</p>
 
        <p><p class="ex13">Actor-word network graphs: (1) Mouseover on links or a node, (2) scroll to 
          zoom in / out, (3) drag from links to move the network<br>(1) Mouseover on nodes to see the information, 
          (2) drag apart a node to see link details<br>Actor-actor network graph: Mouseover on nodes to see the 
          information<br>Level of engagement bar graphs: Click on the bars to see the details</p>
        
        
        <!---Visualization 4: Actor-word network graphs----------------------->
        <!---Built based on D3.js / Mike Bostock's force-directed graph------->

        <style>

          button {position: relative;}
          button:active {outline: none; border: none;}
          button:focus {outline:0;}
        
          .btn0 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 50px;
            width: 300px;
            height: 40px;
            margin-top: 30px
          }
          .btn1 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 60px;
            width: 200px;
            height: 40px;
            margin-top: 30px
          }
          .btn2 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 50px;
            width: 200px;
            height: 40px;
            margin-top: 30px
          }
          .btn3 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 50px;
            width: 300px;
            height: 40px;
            margin-top: 30px
          }
          .btn4 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 65px;
            width: 450px;
            height: 40px;
            margin-top: 30px
          }
          .btn20 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 50px;
            width: 200px;
            height: 40px;
            margin-top: 50px
          }
          .btn30 {
            background-color: black;
            border: none;
            color: white;
            top: 0px;
            left: 50px;
            width: 200px;
            height: 30px;
            margin-top: 0px
          }

          .links line {stroke: #aaa;}
          .nodes circle {
            pointer-events: all;
            stroke: none;
            stroke-width: 40px;
          }

          #my_dataviz5 { 
                float: middle; 
        }

        </style>

        <div>
        <button type="button" class="btn0" id="switch">See language style matching</button>
        </div>
        
        <svg id="my_dataviz15" font-family= "Calibri" text-anchor="middle" width="360" height="450"></svg>

        <script>

          var graph_15;
          var initLinks = true;

          var svg_15 = d3.select("#my_dataviz15")
              //width_15 = +svg_15.attr("width"),
              //height_15 = +svg_15.attr("height")    
              .append("svg")
              .attr("width", 360)
              .attr("height", 420)
              .call(d3.zoom().on("zoom", function () {
                svg_15.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_15 = 360//+svg_15.attr("width"),
            height_15 = 400//+svg_15.attr("height")
            
          var myColor_15 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 10])

          /*
          var myColor_15_2 = d3.scaleLinear()
            .range(["red", "black"])
            //.range(["white", "blue"])
            .domain([1])
            //.range(["#c5f3de", "#69b3a2"])
            //.domain([1,2])
          */
            
          var myRadius_15 = d3.scaleLinear()
            .range([5.5, 2.5, 2.5])
            .domain([1, 2, 3])

          var link_15 = svg_15.append("g").selectAll(".links");
          var node_15 = svg_15.append("g").selectAll(".nodes");

          svg_15.append("text")
              .attr("x", width_15 / 2)
              .attr("y", height_15 - 30)
              .text("Fadell-Maak").attr("font-size", 14);

          svg_15.append("text")
              .attr("x", width_15 / 2)
              .attr("y", height_15 - 10)
              .text("Function Words Matched").attr("font-size", 14);

          var simulation_15 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_15 / 2, height_15 / 2));

          //	button event handling
          d3.select("#switch").on("click", function() {
            initLinks = !initLinks;
            update_15();
            update_16();
            update_17();
            restart_67();
            console.log("EXEC");
          });

          d3.json("sample16_MF.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_15 = gr;
            update_15();
          });

          function update_15() {
            // Get data from JSON
            link_15 = link_15.data(graph_15.links);

            // Create links 	
            link_15 = link_15.enter().append("line")
              .attr("class", "link")
              .merge(link_15)
              .attr("stroke-width", (initLinks ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              //: ("stroke-width", function(d) { return (d.id); }) );
              .attr("stroke", (initLinks ? "#aaa" : function(d) { return myColor_15(d.value); }) );
            
            // Remove old links
            link_15.exit().remove();

            // Get data from JSON
            node_15 = node_15.data(graph_15.nodes);

            // Create nodes
            node_15 = node_15.enter().append("circle")
              .attr("class", "node")
              .merge(node_15)
              .attr("r", function(d) {return myRadius_15(d.group)})
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})
              .call(d3.drag()
                    .on("start", dragstarted_15)
                    .on("drag", dragged_15)
                    .on("end", dragended_15)
                  );
            
            node_15.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_15.append("title")
                .text(function(d) { return d.id; });
            
            // Remove old nodes
            node_15.exit().remove();

            simulation_15
                .nodes(graph_15.nodes)
                .on("tick", ticked_15);

            simulation_15.force("link")
                .links(graph_15.links);
            
            simulation_15.alphaTarget(0.3).restart();

          };

          function dragstarted_15(d) {
            if (!d3.event.active) simulation_15.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_15(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_15(d) {
            if (!d3.event.active) simulation_15.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_15() {
              link_15
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_15
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            }

        </script>

        <svg id="my_dataviz16" font-family = "Calibri" text-anchor="middle" width="360" height="450"></svg>

        <script>

          var graph_16;
          //var initLinks_16 = true;

          var svg_16 = d3.select("#my_dataviz16")
              //width_16 = +svg_16.attr("width"),
              //height_16 = +svg_16.attr("height")
              .append("svg")
              .attr("width", 360)
              .attr("height", 420)
              .call(d3.zoom().on("zoom", function () {
                svg_16.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_16 = 360//+svg_15.attr("width"),
            height_16 = 400//+svg_15.attr("height")

          var myColor_16 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 10])
            
          var myRadius_16 = d3.scaleLinear()
            .range([5.5, 2.5, 2.5])
            .domain([1, 2, 3])
            
          var link_16 = svg_16.append("g").selectAll(".links");
          var node_16 = svg_16.append("g").selectAll(".nodes");

          svg_16.append("text")
              .attr("x", width_16 / 2)
              .attr("y", height_16 - 30)
              .text("Koolhaas-Fadell").attr("font-size", 14);

          svg_16.append("text")
              .attr("x", width_16 / 2)
              .attr("y", height_16 - 10)
              .text("Function Words Matched").attr("font-size", 14);

          var simulation_16 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_16 / 2, height_16 / 2));

          /*
          d3.select("#switch").on("click", function() {
            initLinks = !initLinks;
            update_16();
            console.log("EXEC");
          });
          */

          d3.json("sample16_FK.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_16 = gr;
            update_16();

          });

          function update_16() {
            // Get data from JSON
            link_16 = link_16.data(graph_16.links);

            // Create links 	
            link_16 = link_16.enter().append("line")
              .attr("class", "link")
              .merge(link_16)
              .attr("stroke-width", (initLinks ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              //: ("stroke-width", function(d) { return (d.id); }) );
              .attr("stroke", (initLinks ? "#aaa" : function(d) { return myColor_16(d.value); }) );
            
            // Remove old links
            link_16.exit().remove();

            // Get data from JSON
            node_16 = node_16.data(graph_16.nodes);

            // Create nodes
            node_16 = node_16.enter().append("circle")
              .attr("class", "node")
              .merge(node_16)
              .attr("r", function(d) {return myRadius_16(d.group)})
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return color(d.id);})
              .call(d3.drag()
                  .on("start", dragstarted_16)
                  .on("drag", dragged_16)
                  .on("end", dragended_16)
              );

            node_16.append("title")
              .text(function(d) { return d.id; });

            // Remove old nodes
            node_16.exit().remove();

            simulation_16
                .nodes(graph_16.nodes)
                .on("tick", ticked_16);

            simulation_16.force("link")
                .links(graph_16.links);
            
            simulation_16.alphaTarget(0.3).restart();
          };

          function dragstarted_16(d) {
            if (!d3.event.active) simulation_16.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_16(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_16(d) {
            if (!d3.event.active) simulation_16.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_16() {
              link_16
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_16
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            }

        </script>

        <svg id="my_dataviz17" font-family = "Calibri" text-anchor="middle" width="360" height="450"></svg>

        <script>

          var graph_17;
          //var initLinks_16 = true;

          var svg_17 = d3.select("#my_dataviz17")
              //width_17 = +svg_17.attr("width"),
              //height_17 = +svg_17.attr("height")
              .append("svg")
              .attr("width", 360)
              .attr("height", 420)
              .call(d3.zoom().on("zoom", function () {
                svg_17.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_17 = 360//+svg_15.attr("width"),
            height_17 = 400//+svg_15.attr("height")

          var myColor_17 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 10])
            
          var myRadius_17 = d3.scaleLinear()
            .range([5.5, 2.5, 2.5])
            .domain([1, 2, 3])

          var link_17 = svg_17.append("g").selectAll(".links");
          var node_17 = svg_17.append("g").selectAll(".nodes");

          svg_17.append("text")
              .attr("x", width_17 / 2)
              .attr("y", height_17 - 30)
              .text("Koolhaas-Maak").attr("font-size", 14);

          svg_17.append("text")
              .attr("x", width_17 / 2)
              .attr("y", height_17 - 10)
              .text("Function Words Matched").attr("font-size", 14);

          var simulation_17 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_17 / 2, height_17 / 2));


          d3.json("sample16_MK.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_17 = gr;
            update_17();

          });

          function update_17() {
            // Get data from JSON
            link_17 = link_17.data(graph_17.links);

            // Create links 	
            link_17 = link_17.enter().append("line")
              .attr("class", "link")
              .merge(link_17)
              .attr("stroke-width", (initLinks ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              //: ("stroke-width", function(d) { return (d.id); }) );
              .attr("stroke", (initLinks ? "#aaa" : function(d) { return myColor_17(d.value); }) );

            // Remove old links
            link_17.exit().remove();

            // Get data from JSON
            node_17 = node_17.data(graph_17.nodes);

            // Create nodes
            node_17 = node_17.enter().append("circle")
              .attr("class", "node")
              .merge(node_17)
              .attr("r", function(d) {return myRadius_17(d.group)})
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return color(d.id);})
              .call(d3.drag()
                  .on("start", dragstarted_16)
                  .on("drag", dragged_16)
                  .on("end", dragended_16)
              );

            node_17.append("title")
              .text(function(d) { return d.id; });

            // Remove old nodes
            node_17.exit().remove();

            simulation_17
                .nodes(graph_17.nodes)
                .on("tick", ticked_17);

            simulation_17.force("link")
                .links(graph_17.links);
            
            simulation_17.alphaTarget(0.3).restart();

          };

          function dragstarted_17(d) {
            if (!d3.event.active) simulation_17.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_17(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_17(d) {
            if (!d3.event.active) simulation_17.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_17() {
              link_17
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_17
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            }

        </script>


        <!---Visualization 5: Actor-actor network graph----------------------->
        <!---Built based on D3.js / Claudio Bellei's network graph------------>

        <svg id="myDataViz_67" font-family="Calibri" text-anchor="middle" width="1100" height="470"></svg>
        
        <script>

          var graph_67

          var svg_67 = d3.select("#myDataViz_67"),
              width_67 = +svg_67.attr("width"),
              height_67 = +svg_67.attr("height");

          var loc_67 = svg_67.append("g")
                    .attr("transform", "translate(" + width_67 / 2 + "," + 0.45 * height_67 + ")")
            
          var link_67 = loc_67.append("g").selectAll(".link")
          var node_67 = loc_67.append("g").selectAll(".node")

          svg_67.append("text")
            .attr("x", width_67 / 2)
            .attr("y", height_67 - 90)
            .text("Fadell-Koolhaas-Maak").attr("font-size", 14);

          svg_67.append("text")
            .attr("x", width_67 / 2)
            .attr("y", height_67 - 70)
            .text("Level of Engagement (by language style matching (LSM))").attr("font-size", 14);

          var myColor_67 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 20]);
          
          var simulation_67 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_67 / 2, height_67 / 2));

          d3.json("sample45.json", function(error, gr) { 
            if (error) throw error;

            graph_67 = gr
            restart_67();
            d3.interval(function() { restart_67(); }, 150)
          });

          function restart_67() {

            var maxDistance_67 = 300 
            var minDistance_67 = 10 
            var maxConnect_67 = getnetworkProp_67(graph_67)

            var nodes_67 = graph_67.nodes
            var nodeById_67 = d3.map(nodes_67, function(d) { return d.id; })
            var links_67 = graph_67.links
            var timeStamp_67 = 48

            lst_67 = []
            links_67.forEach(function(link_67) {
              var s_67 = nodeById_67.get(link_67.source),
                  t_67 = nodeById_67.get(link_67.target),
                  val_67 = link_67.value,
                  tim_67 = link_67.time;

              lst_67.push({source: s_67, target: t_67, time: tim_67, value: val_67});
            });
            links_67 = lst_67
          
            links_filtered_67 = links_67.filter(function(d) { return d.time; });
            link_67 = link_67.data(links_filtered_67, function(d) { return d.source.id + "-" + d.target.id; });
                 
            link_67 = link_67.enter().append("line")
                  .attr("class", "link")
                  .merge(link_67)
                  //.attr("stroke", "red");
                  .attr("stroke-width", initLinks ? 0 : function(d) { return (20) * d.value; })
                  .attr("stroke", initLinks ? "#aaa" : function(d) { return myColor_67(20 * d.value); });

            node_67 = node_67.data(nodes_67);

            node_67 = node_67.enter().append("circle")
                      .attr("class","node")
                      .merge(node_67)
                      .attr("fill", "#000000")
                      .attr("r", 10)
                      .call(d3.drag()
                          .on("start", dragstarted_67)
                          .on("drag", dragged_67)
                          .on("end", dragended_67));
              
            node_67.append("title")
                .text(function(d) { return d.id; });
            
            simulation_67
              .nodes(nodes_67)
              .on("tick", ticked_67)
                
            simulation_67.force("link", d3.forceLink(links_67)
              .distance(function(d) {
                  return Math.min(maxConnect_67 / d.value * minDistance_67, maxDistance_67);
              })
            )
              
            simulation_67.alpha(0.4).restart();   
          }

          function dragstarted_67(d) {
            if (!d3.event.active) simulation_67.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_67(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_67(d) {
            if (!d3.event.active) simulation_67.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_67() {
            node_67.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_67.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_67(graph) {
              var maxConnect_67 = Math.max.apply(Math, graph.links
                                          .map(function(d) {return 100 * d.value;}));

              return maxConnect_67;
          }

        </script>


        <!---Visualization 6: Bar graph--------------------------------------->
        <!---Built based on D3.js bar graph----------------------------------->
        <!---and Free bars---------------------------------------------------->
        <!-------------------------------------------------------------------->

        <svg id="myDataViz_27" font-family="Calibri" width="1100" height="400" margin = auto></svg>
        <!--script src="https://d3js.org/d3.v4.min.js"></script-->
        
        <script>     
        
          var svg_27 = d3.select("#myDataViz_27")
            width_27 = +svg_27.attr("width") / 4,
            height_27 = 300;

          const rectWidth_27 = 30
          const rectY_27 = 90
          const labMargin_27 = 8
          const barMargin_27 = 5
          const mult_27 = 10
          const wordIni_27 = 2
          const startPoint_27 = 35

          const lsm_km_color = "#A6C1C9"
          const lsm_mf_color = "#7ab9d0"
          const lsm_fk_color = "#4AB2CF"

          var x27 = d3.scaleBand()
            .range([0, width_27])
            .padding(0.1);
          var y27 = d3.scaleLinear()
            .range([height_27, 0]);

          var marginHide = {}

          const lsmData = [{actorLSM: "Koolhaas-Maak", lsm: 0.832, lsmColor: 1},
                        {actorLSM: "Maak-Fadell", lsm: 0.889, lsmColor: 2},
                        {actorLSM:"Fadell-Koolhaas", lsm: 0.785, lsmColor: 3}];

          const lsm_km_pron = 0.929 
          const lsm_mf_pron = 0.820
          const lsm_fk_pron = 0.890

          const lsm_km_prep = 0.965
          const lsm_mf_prep = 0.850
          const lsm_fk_prep = 0.814

          const lsm_km_conj = 0.861
          const lsm_mf_conj = 0.949
          const lsm_fk_conj = 0.911

          const lsm_km_adverb = 0.575
          const lsm_mf_adverb = 0.939
          const lsm_fk_adverb = 0.526


            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27)
                .attr('id', "KoolMaak1")
                .attr('opacity', 0)
                .attr('width', lsm_km_pron * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_km_color)
            svg_27.append("text")
                .attr('id', "KoolMaak1Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_km_pron * 100 + labMargin_27)  
                .attr('y', rectY_27 + (2 * rectWidth_27 / 3))
                .text((String(lsm_km_pron) + " (LSM pronouns Koolhaas-Maak)"))
            // #2
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + rectWidth_27 + barMargin_27)
                .attr('id', "KoolMaak2")
                .attr('opacity', 0)
                .attr('width', lsm_km_prep * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_km_color)
            svg_27.append("text")
                .attr('id', "KoolMaak2Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_km_prep * 100 + labMargin_27) 
                .attr('y', rectY_27 + rectWidth_27 + barMargin_27 + (2* rectWidth_27 / 3))
                .text((String(lsm_km_prep) + " (LSM prepositions Koolhaas-Maak)"))
            // #3
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + 2 * (rectWidth_27 + barMargin_27))
                .attr('id', "KoolMaak3")
                .attr('opacity', 0)
                .attr('width', lsm_km_conj * 100)
                .attr('height', rectWidth_27)
                .attr('fill', lsm_km_color)
            svg_27.append("text")
                .attr('id', "KoolMaak3Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_km_conj * 100 + labMargin_27) 
                .attr('y', rectY_27 + 2 * (rectWidth_27 + barMargin_27) + (2 * rectWidth_27 / 3))
                .text(String(lsm_km_conj) + " (LSM conjunctions Koolhaas-Maak)")
                //.attr("font-size", fontSize_89) 
            // #4
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27))
                .attr('id', "KoolMaak4")
                .attr('opacity', 0)
                .attr('width', lsm_km_adverb * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_km_color)
            svg_27.append("text")
                .attr('id', "KoolMaak4Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_km_adverb * 100 + labMargin_27)  
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27) + (2 * rectWidth_27 / 3))
                .text((String(lsm_km_adverb) + " (LSM adverbs Koolhaas-Maak)"))
            // #5
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27)
                .attr('id', "MaakFadell1")
                .attr('opacity', 0)
                .attr('width', lsm_mf_pron * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_mf_color)
            svg_27.append("text")
                .attr('id', "MaakFadell1Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_mf_pron * 100 + labMargin_27) 
                .attr('y', rectY_27 + (2* rectWidth_27 / 3))
                .text((String(lsm_mf_pron) + " (LSM pronouns Maak-Fadell)"))
            // #6
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + rectWidth_27 + barMargin_27)
                .attr('id', "MaakFadell2")
                .attr('opacity', 0)
                .attr('width', lsm_mf_prep * 100)
                .attr('height', rectWidth_27)
                .attr('fill', lsm_mf_color)
            svg_27.append("text")
                .attr('id', "MaakFadell2Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_mf_prep * 100 + labMargin_27) 
                .attr('y', rectY_27 + (rectWidth_27 + barMargin_27) + (2 * rectWidth_27 / 3))
                .text(String(lsm_mf_prep) + " (LSM prepositions Maak-Fadell)")
            // #7
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + 2 * (rectWidth_27 + barMargin_27))
                .attr('id', "MaakFadell3")
                .attr('opacity', 0)
                .attr('width', lsm_mf_conj * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_mf_color)
            svg_27.append("text")
                .attr('id', "MaakFadell3Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_mf_conj * 100 + labMargin_27)  
                .attr('y', rectY_27 + (2 * (rectWidth_27 + barMargin_27) + 2 * rectWidth_27 / 3))
                .text((String(lsm_mf_conj) + " (LSM conjugations Maak-Fadell)"))
            // #8
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27))
                .attr('id', "MaakFadell4")
                .attr('opacity', 0)
                .attr('width', lsm_mf_adverb * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_mf_color)
            svg_27.append("text")
                .attr('id', "MaakFadell4Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_mf_adverb * 100 + labMargin_27) 
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27) + (2* rectWidth_27 / 3))
                .text((String(lsm_mf_adverb) + " (LSM adverbs Maak-Fadell)"))
            // #9
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27)
                .attr('id', "FadellKoolhaas1")
                .attr('opacity', 0)
                .attr('width', lsm_fk_pron * 100)
                .attr('height', rectWidth_27)
                .attr('fill', lsm_fk_color)
            svg_27.append("text")
                .attr('id', "FadellKoolhaas1Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_fk_pron * 100 + labMargin_27) 
                .attr('y', rectY_27 + (2 * rectWidth_27 / 3))
                .text(String(lsm_fk_pron) + " (LSM pronouns Fadell-Koolhaas)")
            // #10
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + rectWidth_27 + barMargin_27)
                .attr('id', "FadellKoolhaas2")
                .attr('opacity', 0)
                .attr('width', lsm_fk_prep * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_fk_color)
            svg_27.append("text")
                .attr('id', "FadellKoolhaas2Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_mf_prep * 100 + labMargin_27)  
                .attr('y', rectY_27 + rectWidth_27 + barMargin_27 + (2 * rectWidth_27 / 3))
                .text((String(lsm_mf_prep) + " (LSM prepositions Fadell-Koolhaas)"))

            // #11
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 +  2 * (rectWidth_27 + barMargin_27))
                .attr('id', "FadellKoolhaas3")
                .attr('opacity', 0)
                .attr('width', lsm_fk_conj * 100) 
                .attr('height', rectWidth_27)
                .attr('fill', lsm_fk_color)
            svg_27.append("text")
                .attr('id', "FadellKoolhaas3Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_fk_conj * 100 + labMargin_27) 
                .attr('y', rectY_27 + 2 * (rectWidth_27 + barMargin_27) + (2* rectWidth_27 / 3))
                .text((String(lsm_fk_conj) + " (LSM conjunctions Fadell-Koolhaas)"))
            // #12
            svg_27.append("rect")
                .attr('x', startPoint_27 * 4)
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27))
                .attr('id', "FadellKoolhaas4")
                .attr('opacity', 0)
                .attr('width', lsm_fk_adverb * 100)
                .attr('height', rectWidth_27)
                .attr('fill', lsm_fk_color)
            svg_27.append("text")
                .attr('id', "FadellKoolhaas4Txt")
                .attr('opacity', 0)
                .attr('x', startPoint_27 * 4 + lsm_fk_adverb * 100 + labMargin_27) 
                .attr('y', rectY_27 + 3 * (rectWidth_27 + barMargin_27) + (2 * rectWidth_27 / 3))
                .text((String(lsm_fk_adverb) + " (LSM adverbs Fadell-Koolhaas)"))


          x27.domain(lsmData.map (function(d) { return d.actorLSM; }));
          y27.domain([0, d3.max(lsmData, function(d) {return d.lsm ;})]);

          var myColor_27 = d3.scaleLinear()
            .range(["#A6C1C9", "#4AB2CF"])
            .domain([1,3])


          svg_27.selectAll(".bar")
            .data(lsmData)
            .enter().append("rect")
              .attr("class", "bar")
              .attr("x", function(d) {return x27(d.actorLSM)})
              .attr("width", 30)
              .attr("y", function(d) {return y27(d.lsm)})
              .attr("height", function(d) {return height_27 - y27(d.lsm); }) 
              .style("fill", function(d) {return myColor_27(d.lsmColor)})
              .attr("transform", "translate(" + 700 + ")")
            .on("click", function(d, i){
              if (i == 0) {
                MaakFadell1.active = false;
                MaakFadell2.active = false;
                MaakFadell3.active = false;
                MaakFadell4.active = false;
                var active = KoolMaak1.active ? false : true, 
                newOpacity = active ? 1 : 0;
                d3.select("#KoolMaak1").style("opacity", newOpacity)
                d3.select("#KoolMaak2").style("opacity", newOpacity)
                d3.select("#KoolMaak3").style("opacity", newOpacity)
                d3.select("#KoolMaak4").style("opacity", newOpacity)
                d3.select("#KoolMaak1Txt").style("opacity", newOpacity);
                d3.select("#KoolMaak2Txt").style("opacity", newOpacity);
                d3.select("#KoolMaak3Txt").style("opacity", newOpacity);
                d3.select("#KoolMaak4Txt").style("opacity", newOpacity);
                d3.select("#MaakFadell1").style("opacity", 0);
                d3.select("#MaakFadell2").style("opacity", 0);
                d3.select("#MaakFadell3").style("opacity", 0);
                d3.select("#MaakFadell4").style("opacity", 0);
                d3.select("#MaakFadell1Txt").style("opacity", 0);
                d3.select("#MaakFadell2Txt").style("opacity", 0);
                d3.select("#MaakFadell3Txt").style("opacity", 0);
                d3.select("#MaakFadell4Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas1").style("opacity", 0);
                d3.select("#FadellKoolhaas2").style("opacity", 0);
                d3.select("#FadellKoolhaas3").style("opacity", 0);
                d3.select("#FadellKoolhaas4").style("opacity", 0);
                d3.select("#FadellKoolhaas1Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas2Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas3Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas4Txt").style("opacity", 0);
                KoolMaak1.active = active;
                KoolMaak2.active = active;
                KoolMaak3.active = active;
                KoolMaak4.active = active;
                MaakFadell1.active = false;
                MaakFadell2.active = false;
                MaakFadell3.active = false;
                MaakFadell4.active = false;
                FadellKoolhaas1.active = false;
                FadellKoolhaas2.active = false;
                FadellKoolhaas3.active = false;
                FadellKoolhaas4.active = false;
              }
              else if (i == 1) {
                var activeMf = MaakFadell1.active ? false : true,
                newOpacityMf = activeMf ? 1 : 0;
                d3.select("#KoolMaak1").style("opacity", 0);
                d3.select("#KoolMaak2").style("opacity", 0);
                d3.select("#KoolMaak3").style("opacity", 0);
                d3.select("#KoolMaak4").style("opacity", 0);
                d3.select("#KoolMaak1Txt").style("opacity", 0);
                d3.select("#KoolMaak2Txt").style("opacity", 0);
                d3.select("#KoolMaak3Txt").style("opacity", 0);
                d3.select("#KoolMaak4Txt").style("opacity", 0);
                d3.select("#MaakFadell1").style("opacity", newOpacityMf);
                d3.select("#MaakFadell2").style("opacity", newOpacityMf);
                d3.select("#MaakFadell3").style("opacity", newOpacityMf);
                d3.select("#MaakFadell4").style("opacity", newOpacityMf);
                d3.select("#MaakFadell1Txt").style("opacity", newOpacityMf);
                d3.select("#MaakFadell2Txt").style("opacity", newOpacityMf);
                d3.select("#MaakFadell3Txt").style("opacity", newOpacityMf);
                d3.select("#MaakFadell4Txt").style("opacity", newOpacityMf);
                d3.select("#FadellKoolhaas1").style("opacity", 0);
                d3.select("#FadellKoolhaas2").style("opacity", 0);
                d3.select("#FadellKoolhaas3").style("opacity", 0);
                d3.select("#FadellKoolhaas4").style("opacity", 0);
                d3.select("#FadellKoolhaas1Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas2Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas3Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas4Txt").style("opacity", 0);
                MaakFadell1.active = activeMf;
                MaakFadell2.active = activeMf;
                MaakFadell3.active = activeMf;
                MaakFadell4.active = activeMf;
                FadellKoolhaas1.active = false;
                FadellKoolhaas2.active = false;
                FadellKoolhaas3.active = false;
                FadellKoolhaas4.active = false;
                KoolMaak1.active = false;
                KoolMaak2.active = false;
                KoolMaak3.active = false;
                KoolMaak4.active = false;

              }
              else if (i == 2){
              //else if (i.actor == "Fadell-Koolhaas"){
                var activeFk = FadellKoolhaas1.active ? false : true,
                newOpacityFk = activeFk ? 1 : 0;
                d3.select("#KoolMaak1").style("opacity", 0);
                d3.select("#KoolMaak2").style("opacity", 0);
                d3.select("#KoolMaak3").style("opacity", 0);
                d3.select("#KoolMaak4").style("opacity", 0);
                d3.select("#KoolMaak1Txt").style("opacity", 0);
                d3.select("#KoolMaak2Txt").style("opacity", 0);
                d3.select("#KoolMaak3Txt").style("opacity", 0);
                d3.select("#KoolMaak4Txt").style("opacity", 0);
                d3.select("#MaakFadell1").style("opacity", 0);
                d3.select("#MaakFadell2").style("opacity", 0);
                d3.select("#MaakFadell3").style("opacity", 0);
                d3.select("#MaakFadell4").style("opacity", 0);
                d3.select("#MaakFadell1Txt").style("opacity", 0);
                d3.select("#MaakFadell2Txt").style("opacity", 0);
                d3.select("#MaakFadell3Txt").style("opacity", 0);
                d3.select("#MaakFadell4Txt").style("opacity", 0);
                d3.select("#FadellKoolhaas1").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas2").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas3").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas4").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas1Txt").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas2Txt").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas3Txt").style("opacity", newOpacityFk);
                d3.select("#FadellKoolhaas4Txt").style("opacity", newOpacityFk);
                FadellKoolhaas1.active = activeFk;
                FadellKoolhaas2.active = activeFk;
                FadellKoolhaas3.active = activeFk;
                FadellKoolhaas4.active = activeFk;
                MaakFadell1.active = false;
                MaakFadell2.active = false;
                MaakFadell3.active = false;
                MaakFadell4.active = false;
                KoolMaak1.active = false;
                KoolMaak2.active = false;
                KoolMaak3.active = false;
                KoolMaak4.active = false;

              }
            })
            .text("Koolhaas Maak LSM comparison")

          // add the x Axis
          svg_27.append("g")
              .attr("transform", "translate(700," + (height_27) + ")")
              .call(d3.axisBottom(x27));

          // add the y Axis
          svg_27.append("g")
              .attr("transform", "translate(" + 700 + ")")
              .call(d3.axisLeft(y27));

          svg_27.append("text")
            .attr("x", width_27 / 2)
            .attr("y", height_27)
            .text("Level of Engagement (by language style matching (LSM))").attr("font-size", 14);
            

        </script>




        <!-------------------------------------------------------------------------------------->
        <!--- Part 4 ------------------------------->
        <!-------------------------------------------------------------------------------------->          

        <svg height="10" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Difference in vocabularies and disciplinary words in conversation 1</p>
        <p><p class="ex8">See section 4.4 in <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">the article</a> for a detailed discussion</p>
        
        <p><p class="ex13">Actor-word network graphs: (1) Mouseover on links or a node, (2) scroll to 
          zoom in / out, (3) drag from links to move the network<br>(1) Mouseover on nodes to see the information, 
          (2) drag apart a node to see link details</p>
        
        
        <!---Visualization 7: Actor-word network graphs----------------------->
        <!---Built based on D3.js / Mike Bostock's force-directed graph------->

        <div>
        <button type="button" class="btn2" id="switch_5">Highlight content words</button>
        <button type="button" class="btn1" id="switch_55">See frequency of words</button>
        </div>

        <svg id="myDataViz_5" font-family= "Calibri" text-anchor="middle" width="360" height="510"></svg>

        <script>

          var graph_5;
          var initLinks_5 = true;
          var initLinks_55 = true;

          var svg_5 = d3.select("#myDataViz_5")
              //width_5 = +svg_5.attr("width"),
              //height_5 = +svg_5.attr("height");
              .append("svg")
              .attr("width", 360)
              .attr("height", 480)
              .call(d3.zoom().on("zoom", function () {
                svg_5.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_5 = 360//+svg_5.attr("width"),
            height_5 = 480//+svg_5.attr("height")

          /*
          // Color scale
          var myColor_5 = d3.scaleLinear()
              //.range(["#000000", "#FF1B1B", "#000000"])
              //.range(["#000000", "#000000", "#FF1B1B"])
              .range(["#000000", "#000000", "#C6C6C6"])
              .domain([1, 2, 3])
          */

          var myColor_55 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 2])
          
          var myColor_555 = d3.scaleLinear()
              //.range(["#000000", "#FF1B1B", "#000000"])
              //.range(["#000000", "#000000", "#FF1B1B"])
              .range(["#F0BD20", "#4AB2CF", "#4ACF8C", "#787878", "#C6C6C6", "#000000"])
              .domain([1, 2, 3, 4, 5, 6])

          // Radius scale
          var myRadius_5 = d3.scaleLinear()
              .range([5.5, 2.5, 2.5])
              .domain([1, 2, 3])
          
          var myRadius_55 = d3.scaleLinear()
              .range([4, 4, 4, 2.5, 2.5, 5.5])
              .domain([1, 2, 3, 4, 5, 6])

          var link_5 = svg_5.append("g").selectAll(".links");
          var node_5 = svg_5.append("g").selectAll(".nodes");

          svg_5.append("text")
              .attr("x", width_5 / 2)
              .attr("y", 450)
              .text("Maak").attr("font-size", 14);

          svg_5.append("text")
              .attr("x", width_5 / 2)
              .attr("y", 470)
              .text("All Words").attr("font-size", 14);

          var simulation_5 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_5 / 2, height_5 / 2));

          //	button event handling
          d3.select("#switch_5").on("click", function() {
            initLinks_5 = !initLinks_5;
            update_5();
            update_6();
            update_7();
            drawStack_89();
            drawStack_88();
            drawStack_87();
            drawBars_95();
            drawBars_96();
            drawBars_97();
            console.log("EXEC");
          });

          d3.select("#switch_55").on("click", function() {
            initLinks_55 = !initLinks_55;
            update_5();
            update_6();
            update_7();
            console.log("EXEC");
          });

          d3.json("sample66_M.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_5 = gr;
            update_5();
          });

          function update_5() {
            // Get data from JSON
            link_5 = link_5.data(graph_5.links);

            // Create links 	
            link_5 = link_5.enter().append("line")
              .attr("class", "link")
              .merge(link_5)
              .attr("stroke", "#aaa")
              .attr("stroke-width", (initLinks_55 ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              .attr("stroke", (initLinks_55 ? "#aaa" : function(d) { return myColor_55(d.value); }) );
            
            // Remove old links
            link_5.exit().remove();

            // Get data from JSON
            node_5 = node_5.data(graph_5.nodes);

            // Create nodes
            node_5 = node_5.enter().append("circle")
              .attr("class", "node")
              .merge(node_5)
              //.attr("r", function(d) { return myRadius_5(d.group); })
              .attr("r", initLinks_5 ? function(d) { return myRadius_5(d.group); } : function(d) { return myRadius_55(d.colVal); })
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})
              
              .attr("fill", (initLinks_5 ? "#000000" : function(d) { return myColor_555(d.colVal); }) )
              .call(d3.drag()
                    .on("start", dragstarted_5)
                    .on("drag", dragged_5)
                    .on("end", dragended_5)
                  );
            
            node_5.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_5.append("title")
                .text(function(d) { return d.id; } );
            
            // Remove old nodes
            node_5.exit().remove();

            simulation_5
                .nodes(graph_5.nodes)
                .on("tick", ticked_5);

            simulation_5.force("link")
                .links(graph_5.links);
            
            simulation_5.alphaTarget(0.1).restart();

          };

          function dragstarted_5(d) {
            if (!d3.event.active) simulation_5.alphaTarget(0.1).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_5(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_5(d) {
            if (!d3.event.active) simulation_5.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_5() {
              link_5
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_5
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            }

        </script>

        <svg id="myDataViz_6" font-family = "Calibri" text-anchor="middle" width="360" height="510"></svg>
        
        <script>

          var graph_6;

          var svg_6 = d3.select("#myDataViz_6")
              //width_6 = +svg_6.attr("width"),
              //height_6 = +svg_6.attr("height");
              .append("svg")
              .attr("width", 360)
              .attr("height", 480)
              .call(d3.zoom().on("zoom", function () {
                svg_6.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_6 = 360//+svg_6.attr("width"),
            height_6 = 480//+svg_6.attr("height")

          // Color scale
          var myColor_6 = d3.scaleLinear()
              //.range(["#000000", "#FF1B1B", "#000000"])
              //.range(["#000000", "#000000", "#FF1B1B"])
              .range(["#000000", "#000000", "#C6C6C6"])
              .domain([1, 2, 3])

          var myColor_66 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 2])

          // Radius scale
          var myRadius_6 = d3.scaleLinear()
              .range([5.5, 2.5, 2.5])
              .domain([1, 2, 3])

          var link_6 = svg_6.append("g").selectAll(".links");
          var node_6 = svg_6.append("g").selectAll(".nodes");

          svg_6.append("text")
              .attr("x", width_6 / 2)
              .attr("y", 450)
              .text("Fadell").attr("font-size", 14);

          svg_6.append("text")
              .attr("x", width_6 / 2)
              .attr("y", 470)
              .text("All Words").attr("font-size", 14);

          var simulation_6 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_6 / 2, height_6 / 2));

          d3.json("sample66_F.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_6 = gr;
            update_6();
          });

          function update_6() {
            // Get data from JSON
            link_6 = link_6.data(graph_6.links);

            // Create links 	
            link_6 = link_6.enter().append("line")
              .attr("class", "link")
              .merge(link_6)
              .attr("stroke", "#aaa")
              .attr("stroke-width", (initLinks_55 ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              .attr("stroke", (initLinks_55 ? "#aaa" : function(d) { return myColor_66(d.value); }) );
            
            // Remove old links
            link_6.exit().remove();

            // Get data from JSON
            node_6 = node_6.data(graph_6.nodes);

            // Create nodes
            node_6 = node_6.enter().append("circle")
              .attr("class", "node")
              .merge(node_6)
              //.attr("r", function(d) { return myRadius_6(d.group); })
              .attr("r", initLinks_5 ? function(d) { return myRadius_5(d.group); } : function(d) { return myRadius_55(d.colVal); })
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})
              //.attr("fill", (initLinks_5 ? "#000000" : function(d) { return myColor_6(d.group); }) )
		
              .attr("fill", (initLinks_5 ? "#000000" : function(d) { return myColor_555(d.colVal); }) )
              .call(d3.drag()
                    .on("start", dragstarted_6)
                    .on("drag", dragged_6)
                    .on("end", dragended_6)
                  );
            
            node_6.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_6.append("title")
                .text(function(d) { return d.id; } );
            
            // Remove old nodes
            node_6.exit().remove();

            simulation_6
                .nodes(graph_6.nodes)
                .on("tick", ticked_6);

            simulation_6.force("link")
                .links(graph_6.links);
            
            simulation_6.alphaTarget(0.1).restart();

          };

          function dragstarted_6(d) {
            if (!d3.event.active) simulation_6.alphaTarget(0.1).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_6(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_6(d) {
            if (!d3.event.active) simulation_6.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_6() {
              link_6
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_6
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
          }

        </script>

        <svg id="myDataViz_7" font-family = "Calibri" text-anchor="middle" width="360" height="510"></svg>

        <script>

          var graph_7;

          var svg_7 = d3.select("#myDataViz_7")
              //width_7 = +svg_7.attr("width"),
              //height_7 = +svg_7.attr("height");
              .append("svg")
              .attr("width", 360)
              .attr("height", 480)
              .call(d3.zoom().on("zoom", function () {
                svg_7.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_7 = 360//+svg_7.attr("width"),
            height_7 = 480//+svg_7.attr("height")

          // Color scale
          var myColor_7 = d3.scaleLinear()
              //.range(["#000000", "#FF1B1B", "#000000"])
              //.range(["#000000", "#000000", "#FF1B1B"])
              .range(["#000000", "#000000", "#C6C6C6"])
              .domain([1, 2, 3])

          var myColor_77 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 2])

          // Radius scale
          var myRadius_7 = d3.scaleLinear()
              .range([5.5, 2.5, 2.5])
              .domain([1, 2, 3])

          var link_7 = svg_7.append("g").selectAll(".links");
          var node_7 = svg_7.append("g").selectAll(".nodes");

          svg_7.append("text")
              .attr("x", width_7 / 2)
              .attr("y", 450)
              .text("Koolhaas").attr("font-size", 14);

          svg_7.append("text")
              .attr("x", width_7 / 2)
              .attr("y", 470)
              .text("All Words").attr("font-size", 14);

          var simulation_7 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_7 / 2, height_7 / 2));

          d3.json("sample66_K.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_7 = gr;
            update_7();
          });

          function update_7() {
            // Get data from JSON
            link_7 = link_7.data(graph_7.links);

            // Create links 	
            link_7 = link_7.enter().append("line")
              .attr("class", "link")
              .merge(link_7)
              .attr("stroke", "#aaa")
              .attr("stroke-width", (initLinks_55 ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              .attr("stroke", (initLinks_55 ? "#aaa" : function(d) { return myColor_77(d.value); }) );
            
            // Remove old links
            link_7.exit().remove();

            // Get data from JSON
            node_7 = node_7.data(graph_7.nodes);

            // Create nodes
            node_7 = node_7.enter().append("circle")
              .attr("class", "node")
              .merge(node_7)
              //.attr("r", function(d) { return myRadius_7(d.group); })
              .attr("r", initLinks_5 ? function(d) { return myRadius_5(d.group); } : function(d) { return myRadius_55(d.colVal); })
              //.attr("r", (initLinks ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})

              //.attr("fill", (initLinks_5 ? "#000000" : function(d) { return myColor_7(d.group); }) )
              .attr("fill", (initLinks_5 ? "#000000" : function(d) { return myColor_555(d.colVal); }) )
              .call(d3.drag()
                    .on("start", dragstarted_6)
                    .on("drag", dragged_6)
                    .on("end", dragended_6)
                  );
            
            node_7.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_7.append("title")
                .text(function(d) { return d.id; } );
            
            // Remove old nodes
            node_7.exit().remove();
            
            simulation_7
                .nodes(graph_7.nodes)
                .on("tick", ticked_7);

            simulation_7.force("link")
                .links(graph_7.links);

            simulation_7.alphaTarget(0.1).restart();

          };

          function dragstarted_7(d) {
            if (!d3.event.active) simulation_6.alphaTarget(0.1).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_7(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_7(d) {
            if (!d3.event.active) simulation_6.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_7() {
              link_7
                  .attr("x1", function(d) { return d.source.x; })
                  .attr("y1", function(d) { return d.source.y; })
                  .attr("x2", function(d) { return d.target.x; })
                  .attr("y2", function(d) { return d.target.y; });

              node_7
                  .attr("cx", function(d) { return d.x; })
                  .attr("cy", function(d) { return d.y; });
            }

        </script>


        <!---Visualization 8: Stack bars-------------------------------------->
        <!-------------------------------------------------------------------->

        <svg id="my_dataviz89" font-family = "Calibri" text-anchor="middle" width=360 height=500 ></svg>

        <script>
          // Select the svg area
          var svg_89 = d3.select("#my_dataviz89"),
              width_89 = +svg_89.attr("width"),
              height_89 = +svg_89.attr("height")

          const rectWidth_89 = 90
          const rectY = 0
          const rectY_89 = 75
          const rectY_88 = 45
          const mult = 0.6

          const M_totWord = 591
          const M_totContentWord = 494
          const M_totFunctionWord = 97
          const M_totDiscp1Word = 56
          const M_totDiscp2Word = 39
          const M_totIntDiscpWord = 47
          const M_totNoneWord = 352

          const fontSize_89 = 14
          const textColor_89 = "#000000"
          const dis1Color_89 = "#F0BD20" 
          const dis2Color_89 = "#4AB2CF"
          const intDisColor_89 = "#4ACF8C"
          const nonDisWordColor_89 = "#787878"
          const funWordColor_89 = "#C6C6C6"

          // Actor 1 (M)
          svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89)
              .attr('width', rectWidth_89)
              .attr('height', M_totWord * mult)
              .attr('fill', "#000000")
              //.attr('stroke', "#000000")
              //.attr('fill', "#F0BD20");

          function drawStack_89() {
            // Actor 1 (M)
            svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89)
              .attr('width', rectWidth_89)
              .attr('height', M_totDiscp1Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
              //.attr('fill', "#F0BD20");

            svg_89.append("text")
              .attr("x", width_89 / 2)
              .attr("y", rectY_89 + (M_totDiscp1Word * mult / 2) + (fontSize_89 / 4))
              .text("10%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
            
            svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89 + M_totDiscp1Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', M_totDiscp2Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
              //.attr('fill', "#4AB2CF");
            
            svg_89.append("text")
              .attr("x", width_89 / 2)
              .attr("y", (rectY_89 + M_totDiscp1Word * mult) + (M_totDiscp2Word * mult / 2) 
                                + (fontSize_89 / 4))
              .text("7%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89  : textColor_89);
            
            svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', M_totIntDiscpWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
              .attr('stroke', initLinks_5 ? "None" : intDisColor_89)
              //.attr('fill', "#4ACF8C");
            
            svg_89.append("text")
              .attr("x", width_89 / 2)
              .attr("y", (rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult) 
                                + (M_totIntDiscpWord * mult / 2) + (fontSize_89 / 4))
              .text("8%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);

            svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult 
                              + M_totIntDiscpWord * mult)
              .attr('width', rectWidth_89)
              .attr('height',  M_totNoneWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : nonDisWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : nonDisWordColor_89)
              //.attr('fill', "#787878");
            
            svg_89.append("text")
              .attr("x", width_89 / 2)
              .attr("y", (rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult 
                                + M_totIntDiscpWord * mult) + (M_totNoneWord * mult / 2) 
                                + (fontSize_89 / 4))
              .text("59%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
            
            svg_89.append("rect")
              .attr('x', width_89 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult 
                              + M_totIntDiscpWord * mult + M_totNoneWord * mult)
              .attr('width', rectWidth_89)
              .attr('height', M_totFunctionWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : funWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : funWordColor_89)
              //.attr('fill', "#C6C6C6");
            
            svg_89.append("text")
              .attr("x", width_89 / 2)
              .attr("y", (rectY_89 + M_totDiscp1Word * mult + M_totDiscp2Word * mult 
                                + M_totIntDiscpWord * mult + M_totNoneWord * mult) 
                                + (M_totFunctionWord * mult / 2) + (fontSize_89 / 4))
              .text("16%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
          }

        </script>

        <svg id="my_dataviz88" font-family = "Calibri" text-anchor="middle" width=360 height=500 ></svg>

        <script>
          // Select the svg area
          var svg_88 = d3.select("#my_dataviz88"),
              width_88 = +svg_88.attr("width"),
              height_88 = +svg_88.attr("height")

          const F_totWord = 643
          const F_totContentWord = 528
          const F_totFunctionWord = 115
          const F_totDiscp1Word = 11
          const F_totDiscp2Word = 56
          const F_totIntDiscpWord = 62
          const F_totNoneWord = 399

          // Actor 2 (F)
          svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88)
              .attr('width', rectWidth_89)
              .attr('height', F_totWord * mult)
              .attr('fill', "#000000")
              //.attr('stroke', "#000000")
              //.attr('fill', "#F0BD20");

          function drawStack_88() {
            // Actor 1 (M)
            svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88)
              .attr('width', rectWidth_89)
              .attr('height', F_totDiscp1Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
              //.attr('fill', "#F0BD20");

            svg_88.append("text")
              .attr("x", width_88 / 2 + (rectWidth_89 * 2 / 3))
              .attr("y", rectY_88 + (F_totDiscp1Word * mult / 2) + (fontSize_89 / 4))
              .text("2%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88 + F_totDiscp1Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', F_totDiscp2Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
              //.attr('fill', "#4AB2CF");
            
            svg_88.append("text")
              .attr("x", width_88 / 2)
              .attr("y", (rectY_88 + F_totDiscp1Word * mult) + (F_totDiscp2Word * mult / 2) 
                                + (fontSize_89 / 4))
              .text("9%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89  : textColor_89);
            
            svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', F_totIntDiscpWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
              .attr('stroke', initLinks_5 ? "None" : intDisColor_89)
              //.attr('fill', "#4ACF8C");
            
            svg_88.append("text")
              .attr("x", width_88 / 2)
              .attr("y", (rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult) 
                                + (F_totIntDiscpWord * mult / 2) + (fontSize_89 / 4))
              .text("10%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);

            svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult 
                              + F_totIntDiscpWord * mult)
              .attr('width', rectWidth_89)
              .attr('height',  F_totNoneWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : nonDisWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : nonDisWordColor_89)
              //.attr('fill', "#787878");
            
            svg_88.append("text")
              .attr("x", width_88 / 2)
              .attr("y", (rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult 
                                + F_totIntDiscpWord * mult) + (F_totNoneWord * mult / 2) 
                                + (fontSize_89 / 4))
              .text("62%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
            
            svg_88.append("rect")
              .attr('x', width_88 / 2 - rectWidth_89 / 2)
              .attr('y', rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult 
                              + F_totIntDiscpWord * mult + F_totNoneWord * mult)
              .attr('width', rectWidth_89)
              .attr('height', F_totFunctionWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : funWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : funWordColor_89)
              //.attr('fill', "#C6C6C6");
            
            svg_88.append("text")
              .attr("x", width_88 / 2)
              .attr("y", (rectY_88 + F_totDiscp1Word * mult + F_totDiscp2Word * mult 
                                + F_totIntDiscpWord * mult + F_totNoneWord * mult) 
                                + (F_totFunctionWord * mult / 2) + (fontSize_89 / 4))
              .text("17%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
          }

        </script>

        <svg id="my_dataviz87" font-family = "Calibri" text-anchor="middle" width=360 height=500 ></svg>

        <script>
          // Select the svg area
          var svg_87 = d3.select("#my_dataviz87"),
              width_87 = +svg_87.attr("width"),
              height_87 = +svg_87.attr("height")

          const K_totWord = 712
          const K_totContentWord = 599
          const K_totFunctionWord = 113
          const K_totDiscp1Word = 26
          const K_totDiscp2Word = 20
          const K_totIntDiscpWord = 40
          const K_totNoneWord = 513
          
          // Actor 3 (K)
          svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY)
              .attr('width', rectWidth_89)
              .attr('height', K_totWord * mult)
              .attr('fill', "#000000")
              //.attr('stroke', "#000000")
              //.attr('fill', "#F0BD20");
          
          function drawStack_87() {
            // Actor 1 (M)
            svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY)
              .attr('width', rectWidth_89)
              .attr('height', K_totDiscp1Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
              //.attr('fill', "#F0BD20");

            svg_87.append("text")
              .attr("x", width_87 / 2 + (rectWidth_89 * 2 / 3))
              .attr("y", rectY + (K_totDiscp1Word * mult / 2) + (fontSize_89 / 4))
              .text("4%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY + K_totDiscp1Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', K_totDiscp2Word * mult)
              .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
              .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
              //.attr('fill', "#4AB2CF");
            
            svg_87.append("text")
              .attr("x", width_87 / 2 + (rectWidth_89 * 2 / 3))
              .attr("y", (rectY + K_totDiscp1Word * mult) + (K_totDiscp2Word * mult / 2) 
                                + (fontSize_89 / 4))
              .text("3%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? "white"  : textColor_89);
            
            svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult)
              .attr('width', rectWidth_89)
              .attr('height', K_totIntDiscpWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
              .attr('stroke', initLinks_5 ? "None" : intDisColor_89)
              //.attr('fill', "#4ACF8C");
            
            svg_87.append("text")
              .attr("x", width_87 / 2)
              .attr("y", (rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult) 
                                + (K_totIntDiscpWord * mult / 2) + (fontSize_89 / 4))
              .text("6%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);

            svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult 
                              + K_totIntDiscpWord * mult)
              .attr('width', rectWidth_89)
              .attr('height',  K_totNoneWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : nonDisWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : nonDisWordColor_89)
              //.attr('fill', "#787878");
            
            svg_87.append("text")
              .attr("x", width_87 / 2)
              .attr("y", (rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult 
                                + K_totIntDiscpWord * mult) + (K_totNoneWord * mult / 2) 
                                + (fontSize_89 / 4))
              .text("72%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
            
            svg_87.append("rect")
              .attr('x', width_87 / 2 - rectWidth_89 / 2)
              .attr('y', rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult 
                              + K_totIntDiscpWord * mult + K_totNoneWord * mult)
              .attr('width', rectWidth_89)
              .attr('height', K_totFunctionWord * mult)
              .attr('fill', initLinks_5 ? "#000000" : funWordColor_89)
              .attr('stroke', initLinks_5 ? "None" : funWordColor_89)
              //.attr('fill', "#C6C6C6");
            
            svg_87.append("text")
              .attr("x", width_87 / 2)
              .attr("y", (rectY + K_totDiscp1Word * mult + K_totDiscp2Word * mult 
                                + K_totIntDiscpWord * mult + K_totNoneWord * mult) 
                                + (K_totFunctionWord * mult / 2) + (fontSize_89 / 4))
              .text("15%")
              .attr("font-size", fontSize_89) 
              .attr("fill", initLinks_5 ? textColor_89 : textColor_89);
          }
          
        </script>

      
        <!---Visualization 9: Free bars--------------------------------------->
        <!-------------------------------------------------------------------->

        <svg id="my_dataviz95" font-family ="Calibri" text-anchor="left" width=360 height=900 ></svg>

        <script>
          // Select the svg area
          var svg_95 = d3.select("#my_dataviz95"),
              width_95 = +svg_95.attr("width"),
              height_95 = +svg_95.attr("height")
              
              /*
              .append("svg")
              .attr("width", 1500)
              .attr("height", 600)
              .call(d3.zoom().on("zoom", function () {
              svg_95.attr("transform", d3.event.transform)
              }))
            .append("g")

          width_95 = 1500//+svg_95.attr("width"),
          height_95 = 600//+svg_95.attr("height")
          */

          const rectWidth_95 = 30
          const rectY_95 = 90
          const labMargin_95 = 8
          const barMargin_95 = 5
          const mult_95 = 10
          const wordIni_95 = 2
          const startPoint = width_95 / 4

          const M_word1_95 = 16 // {'architecture': 16}
          const M_word2_95 = 7  // {'technology': 7}
          const M_word3_95 = 6  // {'devices': 6}
          const M_word4_95 = 5  // {'thermostats': 5, 'houses': 5, 'architect': 5, 'history': 5} 
          const M_word5_95 = 4  /* {'Google': 4, 'elements': 4, 'building': 4, 'space': 4, 'room': 4,
                                    'energy': 4, 'privacy': 4, 'cars': 4, 'discomfort': 4} */

          // Actor 1 (M)

          svg_95.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 70)
                .text("Maak")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_95.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 50)
                .text("Disciplinary and Interdisciplinary Words")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_95.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 30)
                .text("Frequently Used")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")

          // #1
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                //.attr('width', M_word1_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #2
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                //.attr('width', M_word2_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #3
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word3_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #4
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #5
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #6
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #7
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
            
          // #8
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #9
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #10
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #11
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #12
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

          // #13
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #14
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #15
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #16
          svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

              
          function drawBars_95() {

            // #1
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                .attr('width', M_word1_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
            svg_95.append("text")
                .attr('x', startPoint + M_word1_95 * mult_95 + labMargin_95)  
                .attr('y', rectY_95 + (2 * rectWidth_95 / 3))
                .text((String(M_word1_95) + " x 'architecture'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89)
            
            // #2
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                .attr('width', M_word2_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_95.append("text")
                .attr('x', startPoint + M_word2_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95 + (2* rectWidth_95 / 3))
                .text((String(M_word2_95) + " x 'technology'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);

            // #3
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word3_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_95.append("text")
                .attr('x', startPoint + M_word3_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word3_95) + " x 'devices'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);
          
            // #4
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word4_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_95.append("text")
                .attr('x', startPoint + M_word4_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word4_95) + " x 'thermostats'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #5
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word4_95 * mult_95 )
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word4_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word4_95) + " x 'architect'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #6
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word4_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word4_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word4_95) + " x 'houses'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #7
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word4_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word4_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word4_95) + " x 'history'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #8
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'privacy'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #9
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'Google'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #10
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'cars'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #11
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'elements'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #12
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'building'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #13
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'space'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #14
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'room'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #15
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'energy'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #16
            svg_95.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95))
                .attr('width', M_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_95.append("text")
                .attr('x', startPoint + M_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(M_word5_95) + " x 'discomfort'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
              
          }
            
        </script>

        <svg id="my_dataviz96" font-family ="Calibri" text-anchor="left" width=360 height=900 ></svg>

        <script>
          // Select the svg area
          var svg_96 = d3.select("#my_dataviz96"),
              width_96 = +svg_96.attr("width"),
              height_96 = +svg_96.attr("height")

              /*
              .append("svg")
              .attr("width", 1500)
              .attr("height", 600)
              .call(d3.zoom().on("zoom", function () {
              svg_96.attr("transform", d3.event.transform)
              }))
            .append("g")

          width_96 = 1500//+svg_96.attr("width"),
          height_96 = 600//+svg_96.attr("height")
          */
          
          const F_word1_95 = 13 // 'energy': 13
          const F_word2_95 = 12 // 'products': 12, 'thermostat': 12, 'home': 12 
          const F_word3_95 = 11 // 'technology': 11,  'change': 11
          const F_word4_95 = 9  // 'information': 9, 'data': 9, 'temperature': 9
          const F_word5_95 = 8  // 'homes': 8, 'control': 8 
          const F_word6_95 = 7  // 'able': 7, 'adapt': 7,
          const F_word7_95 = 5  // 'product': 5, 'heating': 5, 'learn': 5, 'designing': 5,
          const F_word8_95 = 4  /* 'connected': 4, 'transparency': 4, 'feedback': 4, 'Nest': 4, 
                                  'elements': 4, 'program': 4, 'cooling': 4 */

          // Actor 2 (F)

          svg_96.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 70)
                .text("Fadell")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_96.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 50)
                .text("Disciplinary and Interdisciplinary Words")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_96.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 30)
                .text("Frequently Used")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")

          // #1
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                //.attr('width', M_word1_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #2
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                //.attr('width', M_word2_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #3
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word3_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #4
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #5
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #6
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #7
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
            
          // #8
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #9
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #10
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #11
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #12
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

          // #13
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #14
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #15
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #16
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
              
          // #17
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 16 * (rectWidth_95 + barMargin_95))
                //.attr('width', F_word8_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #18
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 17 * (rectWidth_95 + barMargin_95))
                //.attr('width', F_word8_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #19
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 18 * (rectWidth_95 + barMargin_95))
                //.attr('width', F_word8_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #20
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 19 * (rectWidth_95 + barMargin_95))
                //.attr('width', F_word8_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #21
          svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 20 * (rectWidth_95 + barMargin_95))
                //.attr('width', F_word8_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          

          function drawBars_96() {

            // #1
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                .attr('width', F_word1_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89)
            svg_96.append("text")
                .attr('x', startPoint + F_word1_95 * mult_95 + labMargin_95)  
                .attr('y', rectY_95 + (2 * rectWidth_95 / 3))
                .text((String(F_word1_95) + " x 'energy'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89)
            
            // #2
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                .attr('width', F_word2_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_96.append("text")
                .attr('x', startPoint + F_word2_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95 + (2* rectWidth_95 / 3))
                .text((String(F_word2_95) + " x 'products'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);
            // #3
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word2_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_96.append("text")
                .attr('x', startPoint + F_word2_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word2_95) + " x 'thermostat'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);
            // #4
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word2_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
            svg_96.append("text")
                .attr('x', startPoint + F_word2_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word2_95) + " x 'home'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #5
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word3_95 * mult_95 )
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word3_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word3_95) + " x 'technology'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #6
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word3_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word3_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word3_95) + " x 'change'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #7
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word5_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word5_95) + " x 'homes'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #8
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word5_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word5_95) + " x 'control'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #9
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word6_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word6_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word6_95) + " x 'able'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #10
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word6_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word6_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word6_95) + " x 'adapt'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #11
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word7_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word7_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 10 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word7_95) + " x 'product'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #12
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word7_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word7_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 11 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word7_95) + " x 'heating'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #13
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word7_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word7_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 12 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word7_95) + " x 'learn'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #14
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word7_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word7_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 13 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word7_95) + " x 'designing'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #15
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 14 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'connected'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #16
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 15 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'transparency'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #17
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 16 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 16 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'feedback'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);  
            // #18
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 17 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 17 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'Nest'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #19
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 18 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 18 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'elements'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #20
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 19 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 19 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'program'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #21
            svg_96.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 20 * (rectWidth_95 + barMargin_95))
                .attr('width', F_word8_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_96.append("text")
                .attr('x', startPoint + F_word8_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 20 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(F_word8_95) + " x 'cooling'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);

          }
          
        </script>

        <svg id="my_dataviz97" font-family ="Calibri" text-anchor="left" width=360 height=900 ></svg>

        <script>
          // Select the svg area
          var svg_97 = d3.select("#my_dataviz97"),
              width_97 = +svg_97.attr("width"),
              height_97 = +svg_97.attr("height")

              /*
              .append("svg")
              .attr("width", 1500)
              .attr("height", 600)
              .call(d3.zoom().on("zoom", function () {
              svg_97.attr("transform", d3.event.transform)
              }))
            .append("g")

          width_97 = 1500//+svg_97.attr("width"),
          height_97 = 600//+svg_97.attr("height")
          */
          
          const K_word1_95 = 11 // 'elements': 11
          const K_word2_95 = 8  // 'element': 8
          const K_word3_95 = 7  // 'car': 7, 'architecture': 7
          const K_word4_95 = 6  // 'intelligence': 6
          const K_word5_95 = 5  // 'architectural': 5, 'state': 5, 
          const K_word6_95 = 4  // 'digital': 4, 'transparency': 4 'generation': 4 


          // Actor 3 (K)

          svg_97.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 70)
                .text("Koolhaas")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_97.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 50)
                .text("Disciplinary and Interdisciplinary Words")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")
              
          svg_97.append("text")
                .attr('x', startPoint)  
                .attr('y', rectY_95 - 30)
                .text("Frequently Used")
                .attr("font-size", fontSize_89) 
                .attr("fill", "#000000")

          // #1
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                //.attr('width', M_word1_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

          // #2
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                //.attr('width', M_word2_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          // #3
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word3_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #4
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

          // #5
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")

          // #6
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #7
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word4_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
            
          // #8
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #9
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          // #10
          svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                //.attr('width', M_word5_95 * mult_95)
                .attr('width', wordIni_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', "#000000")
          
          
          function drawBars_97() {
            // #1
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95)
                .attr('width', F_word1_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
            svg_97.append("text")
                .attr('x', startPoint + F_word1_95 * mult_95 + labMargin_95)  
                .attr('y', rectY_95 + (2 * rectWidth_95 / 3))
                .text((String(F_word1_95) + " x 'elements'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89)
            
            // #2
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95)
                .attr('width', K_word2_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
            svg_97.append("text")
                .attr('x', startPoint + K_word2_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + rectWidth_95 + barMargin_95 + (2* rectWidth_95 / 3))
                .text((String(K_word2_95) + " x 'element'"))
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);

            // #3
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word3_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89)
            svg_97.append("text")
                .attr('x', startPoint + K_word3_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 2 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word3_95) + " x 'car'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white"  : textColor_89);
            // #4
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word3_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89)
            svg_97.append("text")
                .attr('x', startPoint + K_word3_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 3 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word3_95) + " x 'architecture'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);

            // #5
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word4_95 * mult_95 )
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word4_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 4 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word4_95) + " x 'intelligence'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);

            // #6
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis1Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis1Color_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word5_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 5 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word5_95) + " x 'architectural'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #7
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word5_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word5_95 * mult_95 + labMargin_95) 
                .attr('y', rectY_95 + 6 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word5_95) + " x 'state'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
            // #8
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word6_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word6_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 7 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word6_95) + " x 'digital'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #9
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word6_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : dis2Color_89)
                .attr('stroke', initLinks_5 ? "None" : dis2Color_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word6_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 8 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word6_95) + " x 'transparency'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            // #10
            svg_97.append("rect")
                .attr('x', startPoint)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95))
                .attr('width', K_word6_95 * mult_95)
                .attr('height', rectWidth_95)
                .attr('fill', initLinks_5 ? "#000000" : intDisColor_89)
                .attr('stroke', initLinks_5 ? "None" : intDisColor_89);
            svg_97.append("text")
                .attr('x', startPoint + K_word6_95 * mult_95 + labMargin_95)
                .attr('y', rectY_95 + 9 * (rectWidth_95 + barMargin_95) + (2 * rectWidth_95 / 3))
                .text(String(K_word6_95) + " x 'generation'")
                .attr("font-size", fontSize_89) 
                .attr("fill", initLinks_5 ? "white" : textColor_89);
            
          }

        </script>




        <!-------------------------------------------------------------------------------------->
        <!--- Part 5 ------------------------------->
        <!-------------------------------------------------------------------------------------->

        <svg height="10" width="1110">
          <line x1="50" y1="5" x2="1110" y2="5" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Sharing and exchange between different disciplinary discourses in conversation 1 and 2</p>
        <p><p class="ex8">See section 4.5 and 4.6 in <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">the article</a> for a detailed discussion</p>

        <p><p class="ex13">Actor-word network graph: (1) Mouseover on links or a node, (2) scroll to 
          zoom in / out, (3) drag from links to move the network<br>(1) Mouseover on nodes to see the information, 
          (2) drag apart a node to see link details</p>
        
        
        <!---Visualization 10: Actor-word network graph----------------------->
        <!---Built based on D3.js / Mike Bostock's force-directed graph------->

        <div>
        <button type="button" class="btn3" id="switch_2">See weight of words exchanged</button-->    
        <button type="button" class="btn4" id="switch_22">See disciplinary and interdisciplinary words exchanged</button> 
        </div>
        
        <svg id="my_dataviz1" font-family = "Calibri" text-anchor="middle" width="1100" height="830"></svg>
              
        <script>

          var graph_2;
          var initLinks_2 = true;
          var initLinks_22 = true;

          var svg_2 = d3.select("#my_dataviz1")
              //width_2 = +svg_2.attr("width"),
              //height_2 = +svg_2.attr("height");
              .append("svg")
              .attr("width", 1100)
              .attr("height", 800)
              .call(d3.zoom().on("zoom", function () {
                  svg_2.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_2 = 1100//+svg_2.attr("width"),
            height_2 = 800//+svg_2.attr("height")

          var myColor_2 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            .domain([1, 10])
          
          var myColor_22 = d3.scaleLinear()
            //.range(["#000000", "#FF1B1B", "#000000"])
            //.range(["#000000", "#000000", "#FF1B1B"])
            .range(["#F0BD20", "#4AB2CF", "#4ACF8C", "#C6C6C6", "#000000"])
            .domain([1, 2, 3, 4, 5])

          var myRadius_2 = d3.scaleLinear()
            .range([5.5, 2.5, 2.5])
            .domain([1, 2, 3])
          
          var myRadius_22 = d3.scaleLinear()
            .range([4.5, 4.5, 4.5, 2.5, 5.5])
            .domain([1, 2, 3, 4, 5])

          var link_2 = svg_2.append("g").selectAll(".links");
          var node_2 = svg_2.append("g").selectAll(".nodes");

          svg_2.append("text")
              .attr("x", width_2 / 2)
              .attr("y", height_2 - 25)
              //.attr("y", 770)
              .text("Conversation 1: Maak-Fadell-Koolhaas").attr("font-size", 14);

          svg_2.append("text")
              .attr("x", width_2 / 2)
              .attr("y", height_2 - 5)
              //.attr("y", 790)
              .text("Content Words and Terms Shared or Exchanged").attr("font-size", 14);
            
          var simulation_2 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_2 / 2, height_2 / 2));

          //	button event handling
          d3.select("#switch_2").on("click", function() {
              initLinks_2 = !initLinks_2;
              update_2();
              update_71();
              console.log("EXEC");
          });

          d3.select("#switch_22").on("click", function() {
            initLinks_22 = !initLinks_22;
            update_2();
            update_71();
            console.log("EXEC");
          });

          d3.json("sample55.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_2 = gr;
            update_2();
          });


          function update_2() {
            // Get data from JSON
            link_2 = link_2.data(graph_2.links);

            // Create links 	
            link_2 = link_2.enter().append("line")
              .attr("class", "link")
              .merge(link_2)
              .attr("stroke-width", (initLinks_2 ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              .attr("stroke", (initLinks_2 ? "#aaa" : function(d) { return myColor_2(d.value); }) );
            
            // Remove old links
            link_2.exit().remove();

            // Get data from JSON
            node_2 = node_2.data(graph_2.nodes);

            // Create nodes
            node_2 = node_2.enter().append("circle")
              .attr("class", "node")
              .merge(node_2)
              //.attr("r", function(d) {return myRadius_2(d.group)})
              //.attr("r", (initLinks_2 ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})
              .attr("r", (initLinks_22 ? function(d) { return myRadius_2(d.group); } : function(d) { return myRadius_22(d.colVal); }) )
              .attr("fill", (initLinks_22 ? "#000000" : function(d) { return myColor_22(d.colVal); }) )
              .call(d3.drag()
                    .on("start", dragstarted_2)
                    .on("drag", dragged_2)
                    .on("end", dragended_2)
                  );
            
            node_2.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_2.append("title")
                .text(function(d) { return d.id; });
            
            // Remove old nodes
            node_2.exit().remove();

            simulation_2
              .nodes(graph_2.nodes)
              .on("tick", ticked_2);

            simulation_2.force("link")
              .links(graph_2.links);

            simulation_2.alphaTarget(0.1).restart();
          }; 

            function dragstarted_2(d) {
              if (!d3.event.active) simulation_2.alphaTarget(0.1).restart(); // can be alphaTarget(0.3)
              d.fx = d.x;
              d.fy = d.y;
            }

            function dragged_2(d) {
              d.fx = d3.event.x;
              d.fy = d3.event.y;
            }

            function dragended_2(d) {
              if (!d3.event.active) simulation_2.alphaTarget(0);
              d.fx = null;
              d.fy = null;
            } 

            function ticked_2() {
              link_2
                .attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });

              node_2
                .attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; });
              }

        </script>

        <svg id="my_dataviz71" font-family = "Calibri" text-anchor="middle" width="1100" height="720"></svg>
              
        <script>

          var graph_71;
          //var initLinks_2 = true;
          //var initLinks_22 = true;

          var svg_71 = d3.select("#my_dataviz71")
              //width_71 = +svg_71.attr("width"),
              //height_71 = +svg_71.attr("height");
              .append("svg")
              .attr("width", 1100)
              .attr("height", 720)
              .call(d3.zoom().on("zoom", function () {
                  svg_71.attr("transform", d3.event.transform)
              }))
            .append("g")

            width_71 = 1100//+svg_71.attr("width"),
            height_71 = 720//+svg_71.attr("height")
          
          var link_71 = svg_71.append("g").selectAll(".links");
          var node_71 = svg_71.append("g").selectAll(".nodes");

          svg_71.append("text")
              .attr("x", width_71 / 2)
              .attr("y", height_71 - 20)
              //.attr("y", 770)
              .text("Conversation 2: Goldberger-Fadell-Koolhaas").attr("font-size", 14);

          svg_71.append("text")
              .attr("x", width_71 / 2)
              .attr("y", height_71)
              //.attr("y", 790)
              .text("Content Words and Terms Shared or Exchanged").attr("font-size", 14);
            
          var simulation_71 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -30;}))
              .force("center", d3.forceCenter(width_71 / 2, height_71 / 2));
          
          d3.json("sample555.json", function(error, gr) {
            //console.log("DONE");
            if (error) throw error;

            graph_71 = gr;
            update_71();
          });


          function update_71() {
            // Get data from JSON
            link_71 = link_71.data(graph_71.links);

            // Create links 	
            link_71 = link_71.enter().append("line")
              .attr("class", "link")
              .merge(link_71)
              .attr("stroke-width", (initLinks_2 ? 0.5 : function(d) { return (0.03)*(d.value); }) )
              .attr("stroke", (initLinks_2 ? "#aaa" : function(d) { return myColor_2(d.value); }) );
            
            // Remove old links
            link_71.exit().remove();

            // Get data from JSON
            node_71 = node_71.data(graph_71.nodes);

            // Create nodes
            node_71 = node_71.enter().append("circle")
              .attr("class", "node")
              .merge(node_71)
              //.attr("r", function(d) {return myRadius_2(d.group)})
              //.attr("r", (initLinks_2 ? 2.5 : function(d) { return myRadius_15(d.group); }) )
              //.attr("fill", function(d) {return myColor_15_2(d.group);})
              .attr("r", (initLinks_22 ? function(d) { return myRadius_2(d.group); } : function(d) { return myRadius_22(d.colVal); }) )
              .attr("fill", (initLinks_22 ? "#000000" : function(d) { return myColor_22(d.colVal); }) )
              .call(d3.drag()
                    .on("start", dragstarted_71)
                    .on("drag", dragged_71)
                    .on("end", dragended_71)
                  );
            
            node_71.append("text")
                .text(function(d) { return d.id; })
                .attr('x', 6)
                .attr('y', 3);
              
            node_71.append("title")
                .text(function(d) { return d.id; });
            
            // Remove old nodes
            node_71.exit().remove();

            simulation_71
              .nodes(graph_71.nodes)
              .on("tick", ticked_71);

            simulation_71.force("link")
              .links(graph_71.links);

            simulation_71.alphaTarget(0.03).restart();
          }; 

            function dragstarted_71(d) {
              if (!d3.event.active) simulation_71.alphaTarget(0.03).restart(); // can be alphaTarget(0.3)
              d.fx = d.x;
              d.fy = d.y;
            }

            function dragged_71(d) {
              d.fx = d3.event.x;
              d.fy = d3.event.y;
            }

            function dragended_71(d) {
              if (!d3.event.active) simulation_71.alphaTarget(0);
              d.fx = null;
              d.fy = null;
            } 

            function ticked_71() {
              link_71
                .attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });

              node_71
                .attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; });
              }

        </script>
    



        <!-------------------------------------------------------------------------------------->
        <!--- Part 6 ------------------------------->
        <!-------------------------------------------------------------------------------------->
        
        <svg height="90" width="1110">
          <line x1="50" y1="65" x2="1110" y2="65" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>

        <p><p class="ex4">Connection by discourse in conversation 1 and 2</p>
        <p><p class="ex8">See section 5 in <a href="https://drive.google.com/drive/folders/18NyXjKkp94Fxkdgk-YX0pbOTdUNU18BO" 
          target="_blank">the article</a> for a detailed discusson </p>
        
        <p><p class="ex13">Actor-actor network graph: (1) Mouseover on nodes to see the information (2) Use 
          the slider to move in the timeline</p>
        
        
        <!---Visualization 11: Actor-actor network graphs--------------------->
        <!---Built based on D3.js / Claudio Bellei's network graph------------>

        <style>
          .node {
            cursor: pointer;
          }
          
          .link {
            fill: none;
          }
          
          .ticks {
            font: 14px calibri;
            fill: black;
          }
          
          .track,
          .track-inset,
          .track-overlay {
            stroke-linecap: round;
          }
          
          .track {
            stroke: #000;
            stroke-opacity: 0.3;
            stroke-width: 10px;
          }
          
          .track-inset {
            stroke: #000;
            stroke-width: 8px;
          }
          
          .track-overlay {
            pointer-events: stroke;
            stroke-width: 50px;
            cursor: pointer;
          }
          
          .handle {
            fill: #000;
          }
        </style>

        <svg id="myDataViz_29" font-family="Calibri" text-anchor="middle" width="550" height="430"></svg>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

        <script>

          var svg_29 = d3.select("#myDataViz_29"),
              width_29 = +svg_29.attr("width"),
              height_29 = +svg_29.attr("height");

          var loc_29 = svg_29.append("g")
                    .attr("transform", "translate(" + width_29 / 2 + "," + 0.55 * height_29 + ")")
            
          var link_29 = loc_29.append("g").selectAll(".link")
          var node_29 = loc_29.append("g").selectAll(".node")

          svg_29.append("text")
            .attr("x", width_29 / 2)
            .attr("y", height_29 - 60)
            .text("Conversation 1: Fadell-Koolhaas-Maak").attr("font-size", 14);

          svg_29.append("text")
            .attr("x", width_29 / 2)
            .attr("y", height_29 - 40)
            .text("Connection by number of exchanged content words").attr("font-size", 14);
          
          svg_29.append("text")
            .attr("x", width_29 / 2 - 30)
            .attr("y", height_29 - 381)
            .text("minutes").attr("font-size", 12);

          var myColor_29 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 5]);
          
          var simulation_29 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_29 / 2, height_29 / 2));

          // Slider
          var slidLength_29 = 10
          var slider_size_29 = 0.25 * width_29
          //var left_margin_29 = 0.5*(width_29 - slider_size_29);
          var left_margin_29 = 50

          var x_29 = d3.scaleLinear()
              .domain([0, 10])
              .range([left_margin_29, slider_size_29 + left_margin_29])
              .clamp(true);

          var slider_29 = svg_29.append("g")
              .attr("transform", "translate(15," + (height_29 - 405) + ")");

          slider_29.append("line")
              .attr("class", "track")
              .attr("x1", x_29.range()[0])
              .attr("x2", x_29.range()[1])
              .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })
              .attr("class", "track-inset")
              .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })
              .attr("class", "track-overlay")
              .call(d3.drag()
                  .on("start.interrupt", function() { slider_29.interrupt(); })
                  .on("start drag", function() { return hue(x_29.invert(d3.event.x)); }));

          var time_29 = d3.range(0, 49, 8)
          var intLength_29 = slidLength_29 / (time_29.length - 1)
          var xticks_29 = d3.range(0, slidLength_29 + intLength_29, intLength_29)

          slider_29.insert("g", ".track-overlay")
              .attr("class", "ticks")
              .attr("transform", "translate(0," + 25 + ")")
              .selectAll("text")
              .data(xticks_29)
              .enter().append("text")
              .attr("x", x_29)
              .attr("text-anchor", "middle")
              .text(function(d, i) { return time_29[i]; });

          var handle_29 = slider_29.insert("circle", ".track-overlay")
              .attr("class", "handle")
              .attr("r", 9)
              .attr("cx", x_29.range()[0]); //initial position to zero

          function hue(h) {
            handle_29.attr("cx", x_29(h));
          }

          d3.json("sample20.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_29 = 200 
            var minDistance_29 = 10 

            //var [maxConnect_29, maxFraction_29] = getnetworkProp_29(graph)
            var maxConnect_29 = getnetworkProp_29(graph)

            var nodes_29 = graph.nodes
            var nodeById_29 = d3.map(nodes_29, function(d) { return d.id; })
            var links_29 = graph.links
            //var value_29 = links_29.map(function(d){ return d.value; } )

            lst_29 = []
            links_29.forEach(function(link_29) {
              var s_29 = nodeById_29.get(link_29.source),
                  t_29 = nodeById_29.get(link_29.target),
                  val_29 = link_29.value,
                  tim_29 = link_29.time,
                  valTim_29 = link_29.valueTimes;

              lst_29.push({source: s_29, target: t_29, time: tim_29, value: val_29, valueTimes: valTim_29});
            });
            links_29 = lst_29

            restart_29();

            d3.interval(function() { restart_29(); }, 150)


            function restart_29() {
              
              var timeStamp_29 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_29 = links_29.filter(function(d) { return d.time == timeStamp_29; });
              link_29 = link_29.data(links_filtered_29, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_29.exit().remove();
              
              link_29 = link_29.enter().append("line")
                    .attr("class", "link")
                    .merge(link_29)
                    //.attr("stroke", "red");
                    
              link_29.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.value; })
                  //.attr("stroke", function(d) { return myColor_29((0.1) * d.value); })
                  .attr("stroke-width", function(d) { return d.value / (7.752); })
                  .attr("stroke", function(d) { return myColor_29((0.1) * d.value); })

              node_29 = node_29.data(nodes_29);

              node_29 = node_29.enter().append("circle")
                        .attr("class","node")
                        .merge(node_29)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_29)
                            .on("drag", dragged_29)
                            .on("end", dragended_29));
              
              node_29.exit().remove();

              node_29.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_29
                .nodes(nodes_29)
                .on("tick", ticked_29)
                  
              //simulation_29.force("link")
                //.links(links_29)
              
              simulation_29.force("link", d3.forceLink(links_29)
                .distance(function(d) {
                  if(d.time == timeStamp_29) {
                    return Math.min(maxConnect_29 / d.value * minDistance_29, maxDistance_29);
                    }
                    else {
                      return maxDistance_29;
                      }
                })
              )
              
              simulation_29.alpha(0.4).restart();   
            }

          });

          function dragstarted_29(d) {
            if (!d3.event.active) simulation_29.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_29(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_29(d) {
            if (!d3.event.active) simulation_29.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_29() {
            node_29.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_29.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_29(graph) {
              var maxConnect_29 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.value;}));

              return maxConnect_29;
          }

        </script>

        <svg id="myDataViz_30" font-family="Calibri" text-anchor="middle" width="550" height="430"></svg>

        <script>

          var svg_30 = d3.select("#myDataViz_30"),
              width_30 = +svg_30.attr("width"),
              height_30 = +svg_30.attr("height")

          var loc_30 = svg_30.append("g")
                    .attr("transform", "translate(" +width_30 / 2 + "," + 0.55 * height_30 + ")")
            
          var link_30 = loc_30.append("g").selectAll(".link")
          var node_30 = loc_30.append("g").selectAll(".node")

          svg_30.append("text")
            .attr("x", width_30 / 2)
            .attr("y", height_30 - 60)
            .text("Conversation 1: Fadell-Koolhaas-Maak").attr("font-size", 14);

          svg_30.append("text")
            .attr("x", width_30 / 2)
            .attr("y", height_30 - 40)
            .text("Connection by frequency of exchanged content words").attr("font-size", 14);

          var myColor_30 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          
          var simulation_30 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_30 / 2, height_30 / 2));

          d3.json("sample20.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_30 = 200 
            var minDistance_30 = 10 

            //var [maxConnect_30, maxFraction_30] = getnetworkProp_30(graph)
            var maxConnect_30 = getnetworkProp_30(graph)

            var nodes_30 = graph.nodes
            var nodeById_30 = d3.map(nodes_30, function(d) { return d.id; })
            var links_30 = graph.links
            //var value_30 = links_30.map(function(d){ return d.value; } )

            lst_30 = []
            links_30.forEach(function(link_30) {
              var s_30 = nodeById_30.get(link_30.source),
                  t_30 = nodeById_30.get(link_30.target),
                  val_30 = link_30.value,
                  tim_30 = link_30.time,
                  valTim_30 = link_30.valueTimes;

              lst_30.push({source: s_30, target: t_30, time: tim_30, value: val_30, valueTimes: valTim_30});
            });
            links_30 = lst_30

            restart_30();

            d3.interval(function() { restart_30(); }, 150)


            function restart_30() {
              
              var timeStamp_30 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_30 = links_30.filter(function(d) { return d.time == timeStamp_30; });
              link_30 = link_30.data(links_filtered_30, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_30.exit().remove();
              
              link_30 = link_30.enter().append("line")
                    .attr("class", "link")
                    .merge(link_30)
                    //.attr("stroke", "red");
                    
              link_30.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.valueTimes; })
                  //.attr("stroke", function(d) { return myColor_30((0.01) * d.valueTimes); })
                  .attr("stroke-width", function(d) { return (0.4) * d.valueTimes / (7.752); })
                  .attr("stroke", function(d) { return myColor_30((0.01) * d.valueTimes); })

              node_30 = node_30.data(nodes_30);

              node_30 = node_30.enter().append("circle")
                        .attr("class","node")
                        .merge(node_30)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_30)
                            .on("drag", dragged_30)
                            .on("end", dragended_30));
              
              node_30.exit().remove();

              node_30.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_30
                .nodes(nodes_30)
                .on("tick", ticked_30)
                  
              //simulation_30.force("link")
                //.links(links_30)
              
              simulation_30.force("link", d3.forceLink(links_30)
                .distance(function(d) {
                  if(d.time == timeStamp_30) {
                    return Math.min(maxConnect_30 / d.valueTimes * minDistance_30, maxDistance_30);
                    }
                    else {
                      return maxDistance_30;
                      }
                })
              )
              
              simulation_30.alpha(0.4).restart();   
            }

          });

          function dragstarted_30(d) {
            if (!d3.event.active) simulation_30.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_30(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_30(d) {
            if (!d3.event.active) simulation_30.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_30() {
            node_30.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_30.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_30(graph) {
              var maxConnect_30 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_30;
          }

        </script>

        <svg id="myDataViz_31" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>

        <script>

          var svg_31 = d3.select("#myDataViz_31"),
              width_31 = +svg_31.attr("width"),
              height_31 = +svg_31.attr("height")

          var loc_31 = svg_31.append("g")
                    .attr("transform", "translate(" +width_31 / 2 + "," + 0.45 * height_31 + ")")
            
          var link_31 = loc_31.append("g").selectAll(".link")
          var node_31 = loc_31.append("g").selectAll(".node")

          svg_31.append("text")
            .attr("x", width_31 / 2)
            .attr("y", height_31 - 55)
            .text("Conversation 1: Fadell-Koolhaas-Maak").attr("font-size", 14);

          svg_31.append("text")
            .attr("x", width_31 / 2)
            .attr("y", height_31 - 35)
            .text("Connection by number of exchanged disciplinary and interdisciplinary words").attr("font-size", 14);

          var myColor_31 = d3.scaleLinear()
            .range(["#BEBEBE", "#4AB2CF"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          
          var simulation_31 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_31 / 2, height_31 / 2));

          d3.json("sample21.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_31 = 200 
            var minDistance_31 = 10 

            var maxConnect_31 = getnetworkProp_31(graph)

            var nodes_31 = graph.nodes
            var nodeById_31 = d3.map(nodes_31, function(d) { return d.id; })
            var links_31 = graph.links
            //var value_31 = links_31.map(function(d){ return d.value; } )

            lst_31 = []
            links_31.forEach(function(link_31) {
              var s_31 = nodeById_31.get(link_31.source),
                  t_31 = nodeById_31.get(link_31.target),
                  val_31 = link_31.value,
                  tim_31 = link_31.time,
                  valTim_31 = link_31.valueTimes;

              lst_31.push({source: s_31, target: t_31, time: tim_31, value: val_31, valueTimes: valTim_31});
            });
            links_31 = lst_31

            restart_31();

            d3.interval(function() { restart_31(); }, 150)


            function restart_31() {
              
              var timeStamp_31 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_31 = links_31.filter(function(d) { return d.time == timeStamp_31; });
              link_31 = link_31.data(links_filtered_31, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_31.exit().remove();
              
              link_31 = link_31.enter().append("line")
                    .attr("class", "link")
                    .merge(link_31)
                    //.attr("stroke", "red");
                    
              link_31.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.value; })
                  //.attr("stroke", function(d) { return myColor_31((0.1) * d.value); })
                  .attr("stroke-width", function(d) { return d.value / (7.752); })
                  .attr("stroke", function(d) { return myColor_31((0.1) * d.value); })

              node_31 = node_31.data(nodes_31);

              node_31 = node_31.enter().append("circle")
                        .attr("class","node")
                        .merge(node_31)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_31)
                            .on("drag", dragged_31)
                            .on("end", dragended_31));
              
              node_31.exit().remove();

              node_31.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_31
                .nodes(nodes_31)
                .on("tick", ticked_31)
                  
              //simulation_31.force("link")
                //.links(links_31)
              
              simulation_31.force("link", d3.forceLink(links_31)
                .distance(function(d) {
                  if(d.time == timeStamp_31) {
                    return Math.min(maxConnect_31 / d.valueTimes * minDistance_31, maxDistance_31);
                    }
                    else {
                      return maxDistance_31;
                      }
                })
              )
              
              simulation_31.alpha(0.4).restart();   
            }

          });

          function dragstarted_31(d) {
            if (!d3.event.active) simulation_31.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_31(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_31(d) {
            if (!d3.event.active) simulation_31.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_31() {
            node_31.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_31.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_31(graph) {
              var maxConnect_31 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_31;
          }

        </script>

        <svg id="myDataViz_32" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>

        <script>

          var svg_32 = d3.select("#myDataViz_32"),
              width_32 = +svg_32.attr("width"),
              height_32 = +svg_32.attr("height")

          var loc_32 = svg_32.append("g")
                    .attr("transform", "translate(" +width_32 / 2 + "," + 0.45 * height_32 + ")")
            
          var link_32 = loc_32.append("g").selectAll(".link")
          var node_32 = loc_32.append("g").selectAll(".node")

          svg_32.append("text")
            .attr("x", width_32 / 2)
            .attr("y", height_32 - 55)
            .text("Conversation 1: Fadell-Koolhaas-Maak").attr("font-size", 14);

          svg_32.append("text")
            .attr("x", width_32 / 2)
            .attr("y", height_32 - 35)
            .text("Connection by frequency of exchanged disciplinary and interdisciplinary words").attr("font-size", 14);

          var myColor_32 = d3.scaleLinear()
            .range(["#BEBEBE", "#4AB2CF"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          
          var simulation_32 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_32 / 2, height_32 / 2));

          d3.json("sample21.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_32 = 200 
            var minDistance_32 = 10 

            var maxConnect_32 = getnetworkProp_32(graph)

            var nodes_32 = graph.nodes
            var nodeById_32 = d3.map(nodes_32, function(d) { return d.id; })
            var links_32 = graph.links
            //var value_32 = links_32.map(function(d){ return d.value; } )

            lst_32 = []
            links_32.forEach(function(link_32) {
              var s_32 = nodeById_32.get(link_32.source),
                  t_32 = nodeById_32.get(link_32.target),
                  val_32 = link_32.value,
                  tim_32 = link_32.time,
                  valTim_32 = link_32.valueTimes;

              lst_32.push({source: s_32, target: t_32, time: tim_32, value: val_32, valueTimes: valTim_32});
            });
            links_32 = lst_32

            restart_32();

            d3.interval(function() { restart_32(); }, 150)


            function restart_32() {
              
              var timeStamp_32 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_32 = links_32.filter(function(d) { return d.time == timeStamp_32; });
              link_32 = link_32.data(links_filtered_32, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_32.exit().remove();
              
              link_32 = link_32.enter().append("line")
                    .attr("class", "link")
                    .merge(link_32)
                    //.attr("stroke", "red");
                    
              link_32.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.valueTimes; })
                  //.attr("stroke", function(d) { return myColor_32((0.01) * d.valueTimes); })
                  .attr("stroke-width", function(d) { return (0.4) * d.valueTimes / 7.752; })
                  .attr("stroke", function(d) { return myColor_32((0.01) * d.valueTimes); })

              node_32 = node_32.data(nodes_32);

              node_32 = node_32.enter().append("circle")
                        .attr("class","node")
                        .merge(node_32)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_32)
                            .on("drag", dragged_32)
                            .on("end", dragended_32));
              
              node_32.exit().remove();

              node_32.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_32
                .nodes(nodes_32)
                .on("tick", ticked_32)
                  
              //simulation_32.force("link")
                //.links(links_32)
              
              simulation_32.force("link", d3.forceLink(links_32)
                .distance(function(d) {
                  if(d.time == timeStamp_32) {
                    return Math.min(maxConnect_32 / d.valueTimes * minDistance_32, maxDistance_32);
                    }
                    else {
                      return maxDistance_32;
                      }
                })
              )
              
              simulation_32.alpha(0.4).restart();   
            }

          });

          function dragstarted_32(d) {
            if (!d3.event.active) simulation_32.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_32(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_32(d) {
            if (!d3.event.active) simulation_32.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_32() {
            node_32.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_32.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_32(graph) {
              var maxConnect_32 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_32;
          }

        </script>

        <svg id="myDataViz_101" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>
        
        <script>

          var svg_101 = d3.select("#myDataViz_101"),
              width_101 = +svg_101.attr("width"),
              height_101 = +svg_101.attr("height");

          var loc_101 = svg_101.append("g")
                    .attr("transform", "translate(" + width_101 / 2 + "," + 0.45 * height_101 + ")")
            
          var link_101 = loc_101.append("g").selectAll(".link")
          var node_101 = loc_101.append("g").selectAll(".node")

          svg_101.append("text")
            .attr("x", width_101 / 2)
            .attr("y", height_101 - 60)
            .text("Conversation 2: Goldberger-Koolhaas-Maak").attr("font-size", 14);

          svg_101.append("text")
            .attr("x", width_101 / 2)
            .attr("y", height_101 - 40)
            .text("Connection by number of exchanged content words").attr("font-size", 14);
          
          var simulation_101 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_101 / 2, height_101 / 2));

          d3.json("sample200.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_101 = 200 
            var minDistance_101 = 10 

            //var [maxConnect_101, maxFraction_101] = getnetworkProp_101(graph)
            var maxConnect_101 = getnetworkProp_101(graph)

            var nodes_101 = graph.nodes
            var nodeById_101 = d3.map(nodes_101, function(d) { return d.id; })
            var links_101 = graph.links
            //var value_101 = links_101.map(function(d){ return d.value; } )

            lst_101 = []
            links_101.forEach(function(link_101) {
              var s_101 = nodeById_101.get(link_101.source),
                  t_101 = nodeById_101.get(link_101.target),
                  val_101 = link_101.value,
                  tim_101 = link_101.time,
                  valTim_101 = link_101.valueTimes;

              lst_101.push({source: s_101, target: t_101, time: tim_101, value: val_101, valueTimes: valTim_101});
            });
            links_101 = lst_101

            restart_101();

            d3.interval(function() { restart_101(); }, 150)


            function restart_101() {
              
              var timeStamp_101 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_101 = links_101.filter(function(d) { return d.time == timeStamp_101; });
              link_101 = link_101.data(links_filtered_101, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_101.exit().remove();
              
              link_101 = link_101.enter().append("line")
                    .attr("class", "link")
                    .merge(link_101)
                    //.attr("stroke", "red");
                    
              link_101.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.value; })
                  //.attr("stroke", function(d) { return myColor_29((0.1) * d.value); })
                  .attr("stroke-width", function(d) { return d.value / (5.395); })
                  .attr("stroke", function(d) { return myColor_29((0.1) * d.value); })
              
              node_101 = node_101.data(nodes_101);

              node_101 = node_101.enter().append("circle")
                        .attr("class","node")
                        .merge(node_101)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_101)
                            .on("drag", dragged_101)
                            .on("end", dragended_101));
              
              node_101.exit().remove();

              node_101.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_101
                .nodes(nodes_101)
                .on("tick", ticked_101)
                  
              //simulation_101.force("link")
                //.links(links_101)
              
              simulation_101.force("link", d3.forceLink(links_101)
                .distance(function(d) {
                  if(d.time == timeStamp_101) {
                    return Math.min(maxConnect_101 / d.value * minDistance_101, maxDistance_101);
                    }
                    else {
                      return maxDistance_101;
                      }
                })
              )
              
              simulation_101.alpha(0.4).restart();   
            }

          });

          function dragstarted_101(d) {
            if (!d3.event.active) simulation_101.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_101(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_101(d) {
            if (!d3.event.active) simulation_101.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_101() {
            node_101.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_101.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_101(graph) {
              var maxConnect_101 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.value;}));

              return maxConnect_101;
          }
          
        </script>

        <svg id="myDataViz_102" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>

        <script>

          var svg_102 = d3.select("#myDataViz_102"),
              width_102 = +svg_102.attr("width"),
              height_102 = +svg_102.attr("height")

          var loc_102 = svg_102.append("g")
                    .attr("transform", "translate(" + width_102 / 2 + "," + 0.45 * height_102 + ")")
            
          var link_102 = loc_102.append("g").selectAll(".link")
          var node_102 = loc_102.append("g").selectAll(".node")

          svg_102.append("text")
            .attr("x", width_102 / 2)
            .attr("y", height_102 - 60)
            .text("Conversation 2: Goldberger-Koolhaas-Maak").attr("font-size", 14);

          svg_102.append("text")
            .attr("x", width_102 / 2)
            .attr("y", height_102 - 40)
            .text("Connection by frequency of exchanged content words").attr("font-size", 14);

          /*
          var myColor_30 = d3.scaleLinear()
            .range(["#BEBEBE", "red"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          */
          
          var simulation_102 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_102 / 2, height_102 / 2));

          d3.json("sample200.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_102 = 200 
            var minDistance_102 = 10 

            //var [maxConnect_102, maxFraction_102] = getnetworkProp_102(graph)
            var maxConnect_102 = getnetworkProp_102(graph)

            var nodes_102 = graph.nodes
            var nodeById_102 = d3.map(nodes_102, function(d) { return d.id; })
            var links_102 = graph.links
            //var value_30 = links_30.map(function(d){ return d.value; } )

            lst_102 = []
            links_102.forEach(function(link_102) {
              var s_102 = nodeById_102.get(link_102.source),
                  t_102 = nodeById_102.get(link_102.target),
                  val_102 = link_102.value,
                  tim_102 = link_102.time,
                  valTim_102 = link_102.valueTimes;

              lst_102.push({source: s_102, target: t_102, time: tim_102, value: val_102, valueTimes: valTim_102});
            });
            links_102 = lst_102

            restart_102();

            d3.interval(function() { restart_102(); }, 150)


            function restart_102() {
              
              var timeStamp_102 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_102 = links_102.filter(function(d) { return d.time == timeStamp_102; });
              link_102 = link_102.data(links_filtered_102, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_102.exit().remove();
              
              link_102 = link_102.enter().append("line")
                    .attr("class", "link")
                    .merge(link_102)
                    //.attr("stroke", "red");
                    
              link_102.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.valueTimes; })
                  //.attr("stroke", function(d) { return myColor_30((0.01) * d.valueTimes); })
                  .attr("stroke-width", function(d) { return (0.4) * d.valueTimes / (5.395); })
                  .attr("stroke", function(d) { return myColor_30((0.01) * d.valueTimes); })

              node_102 = node_102.data(nodes_102);

              node_102 = node_102.enter().append("circle")
                        .attr("class","node")
                        .merge(node_102)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_102)
                            .on("drag", dragged_102)
                            .on("end", dragended_102));
              
              node_102.exit().remove();

              node_102.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_102
                .nodes(nodes_102)
                .on("tick", ticked_102)
                  
              //simulation_102.force("link")
                //.links(links_102)
              
              simulation_102.force("link", d3.forceLink(links_102)
                .distance(function(d) {
                  if(d.time == timeStamp_102) {
                    return Math.min(maxConnect_102 / d.valueTimes * minDistance_102, maxDistance_102);
                    }
                    else {
                      return maxDistance_102;
                      }
                })
              )
              
              simulation_102.alpha(0.4).restart();   
            }

          });

          function dragstarted_102(d) {
            if (!d3.event.active) simulation_102.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_102(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_102(d) {
            if (!d3.event.active) simulation_102.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_102() {
            node_102.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_102.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_102(graph) {
              var maxConnect_102 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_102;
          }

        </script>

        <svg id="myDataViz_103" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>

        <script>

          var svg_103 = d3.select("#myDataViz_103"),
              width_103 = +svg_103.attr("width"),
              height_103 = +svg_103.attr("height")

          var loc_103 = svg_103.append("g")
                    .attr("transform", "translate(" + width_103 / 2 + "," + 0.45 * height_103 + ")")
            
          var link_103 = loc_103.append("g").selectAll(".link")
          var node_103 = loc_103.append("g").selectAll(".node")

          svg_103.append("text")
            .attr("x", width_103 / 2)
            .attr("y", height_103 - 60)
            .text("Conversation 2: Goldberger-Koolhaas-Maak").attr("font-size", 14);

          svg_103.append("text")
            .attr("x", width_103 / 2)
            .attr("y", height_103 - 40)
            .text("Connection by number of exchanged disciplinary and interdisciplinary words").attr("font-size", 14);
          
          /*
          var myColor_31 = d3.scaleLinear()
            .range(["#BEBEBE", "#4AB2CF"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          */
          
          var simulation_103 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_103 / 2, height_103 / 2));

          d3.json("sample210.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_103 = 200 
            var minDistance_103 = 10 

            var maxConnect_103 = getnetworkProp_103(graph)

            var nodes_103 = graph.nodes
            var nodeById_103 = d3.map(nodes_103, function(d) { return d.id; })
            var links_103 = graph.links
            //var value_103 = links_103.map(function(d){ return d.value; } )

            lst_103 = []
            links_103.forEach(function(link_103) {
              var s_103 = nodeById_103.get(link_103.source),
                  t_103 = nodeById_103.get(link_103.target),
                  val_103 = link_103.value,
                  tim_103 = link_103.time,
                  valTim_103 = link_103.valueTimes;

              lst_103.push({source: s_103, target: t_103, time: tim_103, value: val_103, valueTimes: valTim_103});
            });
            links_103 = lst_103

            restart_103();

            d3.interval(function() { restart_103(); }, 150)


            function restart_103() {
              
              var timeStamp_103 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_103 = links_103.filter(function(d) { return d.time == timeStamp_103; });
              link_103 = link_103.data(links_filtered_103, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_103.exit().remove();
              
              link_103 = link_103.enter().append("line")
                    .attr("class", "link")
                    .merge(link_103)
                    //.attr("stroke", "red");
                    
              link_103.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.value; })
                  //.attr("stroke", function(d) { return myColor_31((0.1) * d.value); })
                  .attr("stroke-width", function(d) { return d.value / (5.395); })
                  .attr("stroke", function(d) { return myColor_31((0.1) * d.value); })

              node_103 = node_103.data(nodes_103);

              node_103 = node_103.enter().append("circle")
                        .attr("class","node")
                        .merge(node_103)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_103)
                            .on("drag", dragged_103)
                            .on("end", dragended_103));
              
              node_103.exit().remove();

              node_103.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_103
                .nodes(nodes_103)
                .on("tick", ticked_103)
                  
              //simulation_103.force("link")
                //.links(links_103)
              
              simulation_103.force("link", d3.forceLink(links_103)
                .distance(function(d) {
                  if(d.time == timeStamp_103) {
                    return Math.min(maxConnect_103 / d.valueTimes * minDistance_103, maxDistance_103);
                    }
                    else {
                      return maxDistance_103;
                      }
                })
              )
              
              simulation_103.alpha(0.4).restart();   
            }

          });

          function dragstarted_103(d) {
            if (!d3.event.active) simulation_103.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_103(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_103(d) {
            if (!d3.event.active) simulation_103.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_103() {
            node_103.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_103.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_103(graph) {
              var maxConnect_103 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_103;
          }

        </script>

        <svg id="myDataViz_104" font-family="Calibri" text-anchor="middle" width="550" height="350"></svg>

        <script>

          var svg_104 = d3.select("#myDataViz_104"),
              width_104 = +svg_104.attr("width"),
              height_104 = +svg_104.attr("height")

          var loc_104 = svg_104.append("g")
                    .attr("transform", "translate(" + width_104 / 2 + "," + 0.45 * height_104 + ")")
            
          var link_104 = loc_104.append("g").selectAll(".link")
          var node_104 = loc_104.append("g").selectAll(".node")

          svg_104.append("text")
            .attr("x", width_104 / 2)
            .attr("y", height_104 - 60)
            .text("Conversation 2: Goldberger-Koolhaas-Maak").attr("font-size", 14);

          svg_104.append("text")
            .attr("x", width_104 / 2)
            .attr("y", height_104 - 40)
            .text("Connection by frequency of exchanged disciplinary and interdisciplinary words").attr("font-size", 14);

          /*
          var myColor_32 = d3.scaleLinear()
            .range(["#BEBEBE", "#4AB2CF"])
            //.range(["white", "blue"])
            //.domain([1, 150]);
            .domain([1, 10]);
          */
          
          var simulation_104 = d3.forceSimulation()
              .force("link", d3.forceLink().id(function(d) { return d.id; }))
              .force("charge", d3.forceManyBody()) //.strength(function(d) { return -300;}))
              //.force("center", d3.forceCenter(width_104 / 2, height_104 / 2));

          d3.json("sample210.json", function(error, graph) { 
            if (error) throw error;

            var maxDistance_104 = 200 
            var minDistance_104 = 10 

            var maxConnect_104 = getnetworkProp_104(graph)

            var nodes_104 = graph.nodes
            var nodeById_104 = d3.map(nodes_104, function(d) { return d.id; })
            var links_104 = graph.links
            //var value_104 = links_104.map(function(d){ return d.value; } )

            lst_104 = []
            links_104.forEach(function(link_104) {
              var s_104 = nodeById_104.get(link_104.source),
                  t_104 = nodeById_104.get(link_104.target),
                  val_104 = link_104.value,
                  tim_104 = link_104.time,
                  valTim_104 = link_104.valueTimes;

              lst_104.push({source: s_104, target: t_104, time: tim_104, value: val_104, valueTimes: valTim_104});
            });
            links_104 = lst_104

            restart_104();

            d3.interval(function() { restart_104(); }, 150)


            function restart_104() {
              
              var timeStamp_104 = time_29[Math.round(x_29.invert(jQuery(".handle")
                                            .attr("cx")) / intLength_29)];

              links_filtered_104 = links_104.filter(function(d) { return d.time == timeStamp_104; });
              link_104 = link_104.data(links_filtered_104, function(d) { return d.source.id + "-" + d.target.id; });
              
              link_104.exit().remove();
              
              link_104 = link_104.enter().append("line")
                    .attr("class", "link")
                    .merge(link_104)
                    //.attr("stroke", "red");
                    
              link_104.transition()
                  .duration(50)
                  //.attr("stroke-width", function(d) { return (0.03) * d.valueTimes; })
                  //.attr("stroke", function(d) { return myColor_32((0.01) * d.valueTimes); })
                  .attr("stroke-width", function(d) { return (0.4) * d.valueTimes / (5.395); })
                  .attr("stroke", function(d) { return myColor_32((0.01) * d.valueTimes); })

              node_104 = node_104.data(nodes_104);

              node_104 = node_104.enter().append("circle")
                        .attr("class","node")
                        .merge(node_104)
                        .attr("fill", "#000000")
                        .attr("r", 10)
                        .call(d3.drag()
                            .on("start", dragstarted_104)
                            .on("drag", dragged_104)
                            .on("end", dragended_104));
              
              node_104.exit().remove();

              node_104.append("title")
                  .text(function(d) { return d.id; });
            
              simulation_104
                .nodes(nodes_104)
                .on("tick", ticked_104)
                  
              //simulation_104.force("link")
                //.links(links_104)
              
              simulation_104.force("link", d3.forceLink(links_104)
                .distance(function(d) {
                  if(d.time == timeStamp_104) {
                    return Math.min(maxConnect_104 / d.valueTimes * minDistance_104, maxDistance_104);
                    }
                    else {
                      return maxDistance_104;
                      }
                })
              )
              
              simulation_104.alpha(0.4).restart();   
            }

          });

          function dragstarted_104(d) {
            if (!d3.event.active) simulation_104.alphaTarget(0).restart();
            d.fx = d.x;
            d.fy = d.y;
          }

          function dragged_104(d) {
            d.fx = d3.event.x;
            d.fy = d3.event.y;
          }

          function dragended_104(d) {
            if (!d3.event.active) simulation_104.alphaTarget(0);
            d.fx = null;
            d.fy = null;
          }

          function ticked_104() {
            node_104.attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; })

            link_104.attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
          }

          //calculating max connection between nodes
          function getnetworkProp_104(graph) {
              var maxConnect_104 = Math.max.apply(Math,graph.links
                                          .map(function(d) {return d.valueTimes;}));

              return maxConnect_104;
          }

        </script>

        <svg height="100" width="1110">
          <line x1="50" y1="75" x2="1110" y2="75" style="stroke:rgb(0,0,0); stroke-width:1"/>
        </svg>


        <p><p class="ex14">Emek Erdolu<br>PhD Candidate in Computational Design   I   
          School of Architecture, Carnegie Mellon University</p>
        
        <p><p class="ex18">Prof. Ramesh Krishnamurti<br>Professor   I   
            School of Architecture, Carnegie Mellon University</p>

        <p><p class="ex18">A few of the visualizations produced in this study are the outcomes of a collaborative 
          work within the &quotInteractive Data Science&quot course in Carnegie Mellon University. Katherine 
          Giesa (Master of Science in Computational Design '21) did the LSM calculations and produced the 
          interactive LSM bar graph. Meijie Hu (Bachelor of Design '21) added the zoom and tooltip 
          interaction to the actor-time heatmap and number of words-time bar graph.</p>
        
        <p><p class="ex19">Carnegie Mellon University<br>2020</p>

        
      </main>
    </div>
  </body>
</html>
  